<!doctype html> <html lang=en > <a id=top ></a> <link rel=icon  href="/assets/favicon.png"> <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { response = await fetch(url); fig = await response.json(); Plotly.newPlot(div, fig); }; </script> <link rel=stylesheet  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/poole_hyde.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/assets/favicon.png"> <title>Attività</title> <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { console.log("url: ",url); console.log("div: ",div); response = await fetch(url); fig = await response.json(); if (typeof fig.config === 'undefined') { fig["config"]={} } delete fig.layout.width delete fig.layout.height fig["layout"]["autosize"] = true fig["config"]["autosizable"] = true fig["config"]["responsive"] = true fig.config["scrollZoom"] = false delete fig.config.staticPlot delete fig.config.displayModeBar delete fig.config.doubleClick delete fig.config.showTips Plotly.newPlot(div, fig); }; </script> --> <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { response = await fetch(url); fig = await response.json(); Plotly.newPlot(div, fig); }; </script> <!-- <a class=backToTopBtn  title="back to top // torna in cima" href="#top"> <span class=backToTopBtn-icon >^</span> </a> --> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <!-- <h1><a href="/">Hyde</a></h1> <p class=lead >A two-column theme.</p> --> <h1><a href="/">Eccoci.<img style="display: block; margin: 0 auto; margin-bottom: 20px"; width=170 ; src="/assets/main img.jpg" alt="main img"/></a></h1> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/">Home</a> <a class="sidebar-nav-item " href="/uni/">Uni</a> <a class="sidebar-nav-item active" href="/activity/">Activity</a> </nav> <a href="https://www.youtube.com/@divmat_yt" target=_blank rel=noopener> <i class="fab fa-youtube big-icon"></i></a> <a href="https://www.instagram.com/divmat_im/" target=_blank rel=noopener> <i class="fab fa-instagram big-icon"></i></a> <a href="https://tiktok.com/@divmat_tt/" target=_blank rel=noopener> <i class="fab fa-tiktok big-icon"></i></a> <a href="https://www.linkedin.com/in/federico-angelo-mor/" target=_blank rel=noopener> <i class="fab fa-linkedin big-icon"></i></a> </div> </div> <div class="content container"> <a class=backToTopBtn  title="back to top // torna in cima" href="#top"> <span class=backToTopBtn-icon >∧</span> </a> <div class=franklin-content > <h1 id="attività"><a href="#attività" class=header-anchor >Attività</a></h1> <p>L&#39;idea è che ad ogni articoletto di &quot;divulgazione matematica&quot; dovrebbe essere associato un video che lo racconta/analizza/risolve in dettaglio. Se non c&#39;è è perché devo ancora registrarlo :&#41;</p> <p><div class=franklin-toc ><ol><li><a href="#esempi">Esempi</a><ol><li><a href="#ipercubi_in_n_dimensioni">Ipercubi in N dimensioni</a><li><a href="#paradosso_dei_compleanni">Paradosso dei compleanni</a><li><a href="#tennis_tie-break_probability">Tennis tie-break probability</a><li><a href="#strategia_ottimale_per_appuntamenti">Strategia ottimale per appuntamenti</a><li><a href="#traffic_problem">Traffic problem</a><li><a href="#polygon_problem">Polygon problem</a><li><a href="#modi_per_salire_una_scala">Modi per salire una scala</a><li><a href="#condivisione_equa_di_diversi_contributi">Condivisione equa di diversi contributi</a><li><a href="#triello_probabilistico">Triello probabilistico</a><li><a href="#testando_la_resistenza_delle_uova">Testando la resistenza delle uova</a><li><a href="#babbo_natale_e_le_dismutazioni">Babbo Natale e le dismutazioni</a></ol></ol></div> <button id=toc-button >//</button> <div id=toc-container > <div id=toc > <div class=franklin-toc ><ol><li><a href="#esempi">Esempi</a><ol><li><a href="#ipercubi_in_n_dimensioni">Ipercubi in N dimensioni</a><li><a href="#paradosso_dei_compleanni">Paradosso dei compleanni</a><li><a href="#tennis_tie-break_probability">Tennis tie-break probability</a><li><a href="#strategia_ottimale_per_appuntamenti">Strategia ottimale per appuntamenti</a><li><a href="#traffic_problem">Traffic problem</a><li><a href="#polygon_problem">Polygon problem</a><li><a href="#modi_per_salire_una_scala">Modi per salire una scala</a><li><a href="#condivisione_equa_di_diversi_contributi">Condivisione equa di diversi contributi</a><li><a href="#triello_probabilistico">Triello probabilistico</a><li><a href="#testando_la_resistenza_delle_uova">Testando la resistenza delle uova</a><li><a href="#babbo_natale_e_le_dismutazioni">Babbo Natale e le dismutazioni</a></ol></ol></div> </div> </div> </p> <h2 id=esempi ><a href="#esempi" class=header-anchor >Esempi</a></h2> <h3 id=ipercubi_in_n_dimensioni ><a href="#ipercubi_in_n_dimensioni" class=header-anchor >Ipercubi in N dimensioni</a></h3> <p></p> <iframe width="80%" style="aspect-ratio:16/9; margin: auto;" src="https://www.youtube.com/embed/NjdqSz4iva0?rel=0"> </iframe> <p></p> <p>Finché si lavora con quadrati o cubi è tutto molto easy, possiamo anche disegnarli per studiarli e per capire, ad esempio, quanti vertici, lati e facce abbiano. Salendo di dimensione occorre invece arrivarci per vie traverse, e qui vediamo come ci si può arrivare sfruttando anche un po&#39; di calcolo combinatorio.</p> <p>Queste sarebbero le conclusioni a cui si arriva: detto <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> il numero di dimensioni in cui lavoriamo &#40;quindi considerando un <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>-cubo&#41;, abbiamo che</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mtable rowspacing=0.25em  columnalign="right left" columnspacing=0em ><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi mathvariant=normal >#</mi><mtext>(vertici)</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><msup><mn>2</mn><mi>N</mi></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi mathvariant=normal >#</mi><mtext>(lati)</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mi mathvariant=normal >#</mi><mtext>(vertici)</mtext><mo>⋅</mo><mi>N</mi></mrow><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi mathvariant=normal >#</mi><mtext>(facce piane)</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mi mathvariant=normal >#</mi><mtext>(vertici)</mtext><mo>⋅</mo><mrow><mo fence=true >(</mo><mfrac linethickness=0px ><mi>N</mi><mn>2</mn></mfrac><mo fence=true >)</mo></mrow></mrow><msup><mn>2</mn><mn>2</mn></msup></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi mathvariant=normal >#</mi><mrow><mtext>(facce di dimensione </mtext><mstyle scriptlevel=0  displaystyle=false ><mi>k</mi></mstyle><mtext>)</mtext></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mi mathvariant=normal >#</mi><mtext>(vertici)</mtext><mo>⋅</mo><mrow><mo fence=true >(</mo><mfrac linethickness=0px ><mi>N</mi><mi>k</mi></mfrac><mo fence=true >)</mo></mrow></mrow><msup><mn>2</mn><mi>k</mi></msup></mfrac><mspace width=1em /><mi>k</mi><mo>∈</mo><mo stretchy=false >{</mo><mn>3</mn><mo separator=true >,</mo><mo>…</mo><mo separator=true >,</mo><mi>N</mi><mo>−</mo><mn>1</mn><mo stretchy=false >}</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{align*} \#\text{(vertici)} &amp;= 2^{N}\\ \#\text{(lati)} &amp;= \dfrac{\#\text{(vertici)}\cdot N}{2}\\ \#\text{(facce piane)} &amp;= \dfrac{\#\text{(vertici)}\cdot \binom{N}{2}}{2^2}\\ \#\text{(facce di dimensione $k$)} &amp;= \dfrac{\#\text{(vertici)}\cdot \binom{N}{k}}{2^k} \quad k\in\{3,\ldots,N-1\} \end{align*} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:9.261em;vertical-align:-4.3805em;"></span><span class=mord ><span class=mtable ><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:4.8805em;"><span style="top:-7.6515em;"><span class=pstrut  style="height:3.6623em;"></span><span class=mord ><span class=mord >#</span><span class="mord text"><span class=mord >(vertici)</span></span></span></span><span style="top:-5.5645em;"><span class=pstrut  style="height:3.6623em;"></span><span class=mord ><span class=mord >#</span><span class="mord text"><span class=mord >(lati)</span></span></span></span><span style="top:-2.9162em;"><span class=pstrut  style="height:3.6623em;"></span><span class=mord ><span class=mord >#</span><span class="mord text"><span class=mord >(facce piane)</span></span></span></span><span style="top:-0.2678em;"><span class=pstrut  style="height:3.6623em;"></span><span class=mord ><span class=mord >#</span><span class="mord text"><span class=mord >(facce di dimensione </span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class=mord >)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:4.3805em;"><span></span></span></span></span></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:4.8805em;"><span style="top:-7.6515em;"><span class=pstrut  style="height:3.6623em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mord ><span class=mord >2</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.5645em;"><span class=pstrut  style="height:3.6623em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.427em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >2</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >#</span><span class="mord text"><span class=mord >(vertici)</span></span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.9162em;"><span class=pstrut  style="height:3.6623em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.6623em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class=mord >2</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >#</span><span class="mord text"><span class=mord >(vertici)</span></span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9223em;"><span style="top:-2.355em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-0.2678em;"><span class=pstrut  style="height:3.6623em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.6623em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class=mord >2</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.7751em;"><span style="top:-2.989em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >#</span><span class="mord text"><span class=mord >(vertici)</span></span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9223em;"><span style="top:-2.355em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.144em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace  style="margin-right:1em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mopen >{</span><span class=mord >3</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=minner >…</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord >1</span><span class=mclose >}</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:4.3805em;"><span></span></span></span></span></span></span></span></span></span></span></span> <p>dove le facce piane sono quelle classiche, mentre quelle di dimensioni maggiori hanno senso in dimensioni maggiori. Per esempio uno può chiedersi da quante facce cubiche è formato un 7-cubo. Infine <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence=true >(</mo><mfrac linethickness=0px ><mi>N</mi><mi>k</mi></mfrac><mo fence=true >)</mo></mrow><annotation encoding="application/x-tex">\binom{N}{k}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.2723em;vertical-align:-0.35em;"></span><span class=mord ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9223em;"><span style="top:-2.355em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.144em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span> è il coefficiente binomiale di <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> su <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>, quindi <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>N</mi><mo stretchy=false >!</mo></mrow><mrow><mi>k</mi><mo stretchy=false >!</mo><mo stretchy=false >(</mo><mi>N</mi><mo>−</mo><mi>k</mi><mo stretchy=false >)</mo><mo stretchy=false >!</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{N!}{k!(N-k)!}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.4001em;vertical-align:-0.52em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8801em;"><span style="top:-2.655em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">!</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)!</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mclose mtight">!</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>.</p> <h3 id=paradosso_dei_compleanni ><a href="#paradosso_dei_compleanni" class=header-anchor >Paradosso dei compleanni</a></h3> <p></p> <iframe width="80%" style="aspect-ratio:16/9; margin: auto;" src="https://www.youtube.com/embed/u9nr7_sGnm4?rel=0"> </iframe> <p></p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mtable rowspacing=0.25em  columnalign="right left" columnspacing=0em ><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi mathvariant=double-struck >P</mi><mo stretchy=false >(</mo><mrow><mtext>in un gruppo di </mtext><mstyle scriptlevel=0  displaystyle=false ><mi>n</mi></mstyle><mtext> persone almeno due hanno lo stesso compleanno</mtext></mrow><mo stretchy=false >)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mrow><mn>365</mn><mo stretchy=false >!</mo></mrow><mrow><mo stretchy=false >(</mo><mn>365</mn><mo>−</mo><mi>n</mi><mo stretchy=false >)</mo><mo stretchy=false >!</mo><mn>36</mn><msup><mn>5</mn><mi>n</mi></msup></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mi mathvariant=double-struck >P</mi><mo stretchy=false >(</mo><mrow><mtext>in un gruppo di </mtext><mstyle scriptlevel=0  displaystyle=false ><mi>n</mi></mstyle><mtext> persone almeno un’altra ha </mtext><mrow><mtext mathvariant=italic >il</mtext><mtext> </mtext><mtext mathvariant=italic >tuo</mtext></mrow><mtext> stesso compleanno</mtext></mrow><mo stretchy=false >)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=true ><mrow><mrow></mrow><mo>=</mo><mn>1</mn><mo>−</mo><msup><mrow><mo fence=true >(</mo><mfrac><mn>364</mn><mn>365</mn></mfrac><mo fence=true >)</mo></mrow><mi>n</mi></msup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{align*} \mathbb{P}(\text{in un gruppo di $n$ persone almeno due hanno lo stesso compleanno}) &amp;= 1-\frac{365!}{(365-n)!365^n}\\ \mathbb{P}(\text{in un gruppo di $n$ persone almeno un&#x27;altra ha \textit{il tuo} stesso compleanno}) &amp;= 1-\left(\frac{364}{365}\right)^n \end{align*} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:5.3618em;vertical-align:-2.4309em;"></span><span class=mord ><span class=mtable ><span class=col-align-r ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:2.9309em;"><span style="top:-5.0637em;"><span class=pstrut  style="height:3.5043em;"></span><span class=mord ><span class="mord mathbb">P</span><span class=mopen >(</span><span class="mord text"><span class=mord >in un gruppo di </span><span class="mord mathnormal">n</span><span class=mord > persone almeno due hanno lo stesso compleanno</span></span><span class=mclose >)</span></span></span><span style="top:-2.3234em;"><span class=pstrut  style="height:3.5043em;"></span><span class=mord ><span class="mord mathbb">P</span><span class=mopen >(</span><span class="mord text"><span class=mord >in un gruppo di </span><span class="mord mathnormal">n</span><span class=mord > persone almeno un’altra ha </span><span class="mord text"><span class="mord textit">il tuo</span></span><span class=mord > stesso compleanno</span></span><span class=mclose >)</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.4309em;"><span></span></span></span></span></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:2.9309em;"><span style="top:-5.0637em;"><span class=pstrut  style="height:3.5043em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mord >1</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.3714em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mopen >(</span><span class=mord >365</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class=mclose >)!</span><span class=mord >36</span><span class=mord ><span class=mord >5</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >365</span><span class=mclose >!</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3234em;"><span class=pstrut  style="height:3.5043em;"></span><span class=mord ><span class=mord ></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mord >1</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=minner ><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.3214em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >365</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >364</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:1.5043em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:2.4309em;"><span></span></span></span></span></span></span></span></span></span></span></span> <p>Questo problema è noto come &quot;paradosso dei compleanni&quot; perché per la prima probabilità si arriva al 50&#37; già con solo 23 persone, che in effetti sembrano molte poche. Nel video è quindi spiegato come ricavare quei valori e anche come interpretarli, per capire perché quel risultato un po&#39; controintuitivo abbia in realtà senso.</p> <p>Sempre nel caso della prima probabilità si raggiuge davvero l&#39;1 &#40;ovvero la certezza che si realizzi l&#39;evento&#41; ovviamente solo con 366 persone &#40;per il principio della piccionaia, volendo essere precisi, in modo che vengono forzate le date di due persone ad essere uguali&#41;. Gli &quot;uno&quot; prima di lui presenti nel plot che ora segue sono quindi solo dovuti ad approssimazioni del grafico &#40;che non riporta tutti i decimali&#41; che diventano poi approssimazioni numeriche &#40;in cui cioè i calcoli saturano la precisione disponibile per Julia&#41; da 295 persone in poi.</p> <p>Infatti i valori precisi calcolati dal codice sarebbero:</p> <pre><code class="julia hljs">⋮
n=<span class=hljs-number >80</span>: <span class=hljs-number >0.9999143319493134946903219036781801337436248827650357978945842589451803561427634</span>
n=<span class=hljs-number >81</span>: <span class=hljs-number >0.9999331085083680711965527193103598304573509358576306915067301747928120589059932</span>
n=<span class=hljs-number >82</span>: <span class=hljs-number >0.9999479529215795403282766363949101146572264815988140175011270401127633554227453</span>
⋮
n=<span class=hljs-number >258</span>: <span class=hljs-number >0.9999999999999999999999999999999999999999999999999999998264153107735258302391866</span>
n=<span class=hljs-number >259</span>: <span class=hljs-number >0.9999999999999999999999999999999999999999999999999999999491135294596363392755936</span>
n=<span class=hljs-number >260</span>: <span class=hljs-number >0.999999999999999999999999999999999999999999999999999999985222011295127265652638</span>
⋮
n=<span class=hljs-number >293</span>: <span class=hljs-number >0.9999999999999999999999999999999999999999999999999999999999999999999999999999309</span>
n=<span class=hljs-number >294</span>: <span class=hljs-number >0.9999999999999999999999999999999999999999999999999999999999999999999999999999827</span>
n=<span class=hljs-number >295</span>: <span class=hljs-number >1.0</span>
⋮</code></pre> <p><pre><code class="julia hljs"><span class=hljs-keyword >using</span> Plots

p1(n) = <span class=hljs-number >1</span> - factorial(big(<span class=hljs-number >365</span>)) / (factorial(big(<span class=hljs-number >365</span>-n)) * big(<span class=hljs-number >365</span>)^n)
p1_values = p1.(<span class=hljs-number >1</span>:<span class=hljs-number >365</span>)
plot(p1_values,title=<span class=hljs-string >&quot;p1 values&quot;</span>)

p2(n) = <span class=hljs-number >1</span> - (big(<span class=hljs-number >364</span>/<span class=hljs-number >365</span>)^n)
p2_values = p2.(<span class=hljs-number >1</span>:<span class=hljs-number >2000</span>)
plot(p2_values,title=<span class=hljs-string >&quot;p2 values&quot;</span>)</code></pre> <div id=fdpesz  style=""></div> <script> graphDiv = document.getElementById("fdpesz"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/Activity/output/paradosso_compleanni_1.json'); </script> <div id=fdpntf  style=""></div> <script> graphDiv = document.getElementById("fdpntf"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/Activity/output/paradosso_compleanni_2.json'); </script> </p> <h3 id=tennis_tie-break_probability ><a href="#tennis_tie-break_probability" class=header-anchor >Tennis tie-break probability</a></h3> <p></p> <iframe width="80%" style="aspect-ratio:16/9; margin: auto;" src="https://www.youtube.com/embed/ra9LTkehYk4?rel=0"> </iframe> <p></p> <p>Vediamo come calcolare la probabilità di vincere un tiebreak a tennis, quindi una super applicazione della matematica &#40;statistica e probabilità&#41; ad un problema reale.</p> <p><pre><code class="julia hljs"><span class=hljs-keyword >using</span> Plots
<span class=hljs-keyword >using</span> Distributions 

<span class=hljs-comment ># 1  2  3  4  5  6  7  8  9  10 11 12</span>
<span class=hljs-comment ># A  B  B  A  A  B  B  A  A  B  B  A</span>
<span class=hljs-keyword >function</span> ptiebreak(a::<span class=hljs-built_in >Float64</span>,b::<span class=hljs-built_in >Float64</span>)
    p70 = (pdf(Binomial(<span class=hljs-number >3</span>,a),<span class=hljs-number >3</span>) * pdf(Binomial(<span class=hljs-number >3</span>,b),<span class=hljs-number >3</span>))*b 
    <span class=hljs-comment ># batte B al 7mo turno</span>
    p71 = sum([pdf(Binomial(<span class=hljs-number >3</span>,a),i) * pdf(Binomial(<span class=hljs-number >4</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >3</span>])*a 
    <span class=hljs-comment ># batte A all&#x27;8vo turno</span>
    p72 = sum([pdf(Binomial(<span class=hljs-number >4</span>,a),i) * pdf(Binomial(<span class=hljs-number >4</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >4</span>])*a 
    <span class=hljs-comment ># batte A al 9no turno</span>
    p73 = sum([pdf(Binomial(<span class=hljs-number >5</span>,a),i) * pdf(Binomial(<span class=hljs-number >4</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >5</span>])*b 
    <span class=hljs-comment ># batte B al 10mo turno </span>
    p74 = sum([pdf(Binomial(<span class=hljs-number >5</span>,a),i) * pdf(Binomial(<span class=hljs-number >5</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:<span class=hljs-number >5</span>])*b 
    <span class=hljs-comment ># batte B al 11mo turno</span>
    p75 = sum([pdf(Binomial(<span class=hljs-number >5</span>,a),i) * pdf(Binomial(<span class=hljs-number >6</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >0</span>:<span class=hljs-number >5</span>])*a
    <span class=hljs-comment ># batte A al 12mo turno</span>
    p66 = sum([pdf(Binomial(<span class=hljs-number >6</span>,a),i) * pdf(Binomial(<span class=hljs-number >6</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >0</span>:<span class=hljs-number >6</span>])
    pda66 = a*b/(<span class=hljs-number >1</span>-a-b+<span class=hljs-number >2</span>*a*b) 
    
    ptot = p70+p71+p72+p73+p74+p75+p66*pda66
    <span class=hljs-meta >@assert</span> <span class=hljs-number >0</span>&lt;=ptot&lt;=<span class=hljs-number >1</span>
    <span class=hljs-keyword >return</span> ptot
<span class=hljs-keyword >end</span>

aa = range(<span class=hljs-number >0.01</span>,<span class=hljs-number >0.99</span>, length=<span class=hljs-number >40</span>)
bb = range(<span class=hljs-number >0.01</span>,<span class=hljs-number >0.99</span>, length=<span class=hljs-number >40</span>)
p = surface(aa, bb, ptiebreak,camera=(<span class=hljs-number >25</span>,<span class=hljs-number >20</span>))
xlabel!(<span class=hljs-string >&quot;a values&quot;</span>)
ylabel!(<span class=hljs-string >&quot;b values&quot;</span>)

contourf(aa, bb, ptiebreak)
xlabel!(<span class=hljs-string >&quot;a values&quot;</span>)
ylabel!(<span class=hljs-string >&quot;b values&quot;</span>)</code></pre> <div id=fdpaey  style=""></div> <script> graphDiv = document.getElementById("fdpaey"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/Activity/output/tennis_surface.json'); </script> <div id=fdpjtq  style=""></div> <script> graphDiv = document.getElementById("fdpjtq"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/Activity/output/tennis_contourf.json'); </script> </p> <h3 id=strategia_ottimale_per_appuntamenti ><a href="#strategia_ottimale_per_appuntamenti" class=header-anchor >Strategia ottimale per appuntamenti</a></h3> <p>Vediamo ora una delle domande più cruciali nella vita sentimentale: <em>quante persone dovremmo frequentare prima di scegliere quella con cui stabilizzarci per qualcosa di più serio?</em></p> <p>È una domanda difficile, ma la matematica può aiutarci trovando una risposta: il 37&#37;. In pratica, di tutte le persone con cui possibilmente potremmo fissare un appuntamento, dovremmo conoscere ma scartare a priori le prime 37&#37;, dalla nostra &quot;scelta definitiva&quot;, e poi continuare gli appuntamenti fino ad accasarci con la prima persona che incontriamo e che valutiamo migliore di quelle viste prima; o altrimenti aspettare l&#39;ultima persona, se questa scelta migliore non si presenta.</p> <p>Perché è una buona strategia?<sup id="fnref:1"><a href="#fndef:1" class=fnref >[1]</a></sup> Ovviamente non conviene scegliere la prima persona che incontriamo, per quanto possa sembrare promettente, perché qualcuno di meglio potrebbe apparire più tardi. D&#39;altra parte, non vogliamo nemmeno essere troppo esigenti, perché una volta che rifiutiamo qualcuno molto probabilmente non vorrà tornare da noi qualora ci ripensassimo. Ma quindi perché il 37&#37;? L&#39;idea è solo di massimizzare le probabilità.</p> <img src="/assets/img/date4_cut.jpeg" alt=""> <p>Più precisamente: supponiamo di volerci &quot;sistemare&quot; entro un certo periodo. Definiamo <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> come il numero di partner che stimiamo di poter incontrare in questo periodo, e che quindi costituiscono i nostri candidati moglie/marito. Supponiamo di poter assegnare a ogni partner un punteggio da 1 a <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> per definire il nostro grado di compatibilità. In questo gruppo ci sarà anche la nostra anima gemella, <em>quella giusta</em>, che chiamiamo <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> e che avrà quindi il punteggio massimo. Vorremo ora definire una strategia che massimizzi la probabilità di trovarla.</p> <p>Dato <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>, quindi, vorremo capire come bilanciare il rischio tra &quot;scegliere un partner iniziale magari non perfetto&quot; e &quot;scartare partner che invece col senno di poi valeva la pena scegliere&quot;<sup id="fnref:2"><a href="#fndef:2" class=fnref >[2]</a></sup>, e quindi vorremo definire <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> come la soglia di persone che delimita i gruppi <em>scarto</em> vs <em>ci penso</em>. La nostra strategia, come sopra anticipato, consiste allora nell&#39;incontrare - ma scartare - le prime <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> persone, in modo solo da farci un&#39;idea della qualità delle proposte, e poi scegliere, tra i partner degli appuntamenti successivi, la prima che è migliore della persona migliore incontrata nel gruppo scartato; o altrimenti l&#39;ultima se non si presenta nessuna con questo requisito. Calcolando l&#39;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> ottimale, in funzione di <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>, risulterà che </p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>M</mi><mo>=</mo><mfrac><mi>N</mi><mi>e</mi></mfrac><mo>≈</mo><mn>0.37</mn><mo>⋅</mo><mi>N</mi></mrow><annotation encoding="application/x-tex"> M = \frac{N}{e} \approx 0.37 \cdot N </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:2.0463em;vertical-align:-0.686em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.3603em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathnormal">e</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >≈</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >0.37</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span> <p>ovvero <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> deve essere circa il 37&#37; di <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>.</p> <p><table class=fndef  id="fndef:1"> <tr> <td class=fndef-backref ><a href="#fnref:1">[1]</a> <td class=fndef-content >&quot;buona strategia&quot; dal punto di vista del risolvere il problema in modo matematico, ma poi naturalmente nelle relazioni umane non ha troppo senso ragionare solo in questi termini razionali. Se per esempio il primo appuntamento ci colpisce non è che dobbiamo rifiutare quel partner solo perché la matematica dice di farlo. </table> <table class=fndef  id="fndef:2"> <tr> <td class=fndef-backref ><a href="#fnref:2">[2]</a> <td class=fndef-content >questo perché il punteggio corretto da assegnare a ogni partner lo sapremo esattamente solo una volta fatti tutti gli appuntamenti. Durante il processo invece possiamo solo fare confronti del tipo &quot;lei era peggiore di quella vista prima&quot;, &quot;quest&#39;altra era migliore di tutte le altre viste finora&quot;, ecc, ovvero confronti relativi. </table> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Random
Random.seed!(<span class=hljs-number >42</span>)

<span class=hljs-keyword >function</span> M_strategy_score(partners,M,verbose=<span class=hljs-number >0</span>)
    N = length(partners)
    <span class=hljs-meta >@assert</span> N &gt;= M+<span class=hljs-number >1</span>
    partners_not_discarded = partners[M+<span class=hljs-number >1</span>:<span class=hljs-keyword >end</span>]
    best_score_of_discarded = maximum(partners[<span class=hljs-number >1</span>:M]) <span class=hljs-comment ># il punteggio migliore tra le persone del gruppo iniziale</span>
    
    available_scores = max.(partners_not_discarded .- best_score_of_discarded,<span class=hljs-number >0</span>)
    
    out = findfirst(u -&gt; u!=<span class=hljs-number >0</span>, available_scores)
    chosen_index = isnothing(out) ? lastindex(partners_not_discarded) : out
    score_out = partners_not_discarded[chosen_index]
    found_soul_mate = score_out==N <span class=hljs-comment ># se score==N abbiamo trovato la nostra anima gemella</span>

    <span class=hljs-keyword >if</span> verbose==<span class=hljs-number >1</span>
        println(<span class=hljs-string >&quot;We discarded <span class=hljs-variable >$M</span> partners (from <span class=hljs-variable >$N</span> partners).&quot;</span>)
        println(<span class=hljs-string >&quot;The best score there was <span class=hljs-variable >$best_score_of_discarded</span>.&quot;</span>)
        printstyled(partners[<span class=hljs-number >1</span>:M]; color=:yellow)
        printstyled(partners[M+<span class=hljs-number >1</span>:<span class=hljs-keyword >end</span>]; color=:green)
        println(<span class=hljs-string >&quot;\nIn the end we selected partner #<span class=hljs-subst >$(chosen_index+M)</span> of score <span class=hljs-variable >$score_out</span>.&quot;</span>)
        println(found_soul_mate==<span class=hljs-number >1</span> ? <span class=hljs-string >&quot;We&quot;</span> : <span class=hljs-string >&quot;We didnt have&quot;</span>, <span class=hljs-string >&quot; found our soulmate.\n&quot;</span>)
    <span class=hljs-keyword >end</span>
    
    <span class=hljs-keyword >return</span> found_soul_mate <span class=hljs-comment ># return 0 or 1</span>
<span class=hljs-keyword >end</span> 

M = <span class=hljs-number >5</span>
partners = shuffle(<span class=hljs-number >1</span>:<span class=hljs-number >20</span>)
M_strategy_score(partners,M,<span class=hljs-number >1</span>)

<span class=hljs-comment ># optimal strategy should be discarding M=N/ℯ partners</span>
N = <span class=hljs-number >100</span>
simulations = <span class=hljs-number >30_000</span>
values_tested = [<span class=hljs-string >&quot;2&quot;</span>,<span class=hljs-string >&quot;ℯ&quot;</span>,<span class=hljs-string >&quot;3&quot;</span>,<span class=hljs-string >&quot;4&quot;</span>,<span class=hljs-string >&quot;5&quot;</span>,<span class=hljs-string >&quot;6&quot;</span>,<span class=hljs-string >&quot;7&quot;</span>]
M_values = round.(<span class=hljs-built_in >Int64</span>,[N/<span class=hljs-number >2</span> N/<span class=hljs-literal >ℯ</span> N/<span class=hljs-number >3</span> N/<span class=hljs-number >4</span> N/<span class=hljs-number >5</span> N/<span class=hljs-number >6</span> N/<span class=hljs-number >7</span>])
scores = zeros(length(M_values))

<span class=hljs-keyword >for</span> sim <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:simulations
    <span class=hljs-keyword >local</span> partners = shuffle(<span class=hljs-number >1</span>:N)
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(M_values)
        scores[i] += M_strategy_score(partners,M_values[i])
    <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>
scores ./= simulations
println(<span class=hljs-string >&quot;Testing on N = <span class=hljs-variable >$N</span>.&quot;</span>)
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(M_values)
    println(<span class=hljs-string >&quot;Using M = <span class=hljs-subst >$(M_values[i])</span> (that is N/<span class=hljs-subst >$(values_tested[i])</span>) we got score = <span class=hljs-subst >$(scores[i])</span>&quot;</span>)
<span class=hljs-keyword >end</span>     
    println(<span class=hljs-string >&quot;Where score is the probability of having found our soulmate.&quot;</span>)

<span class=hljs-keyword >using</span> Plots
plot(bar(scores),xticks=(<span class=hljs-number >1</span>:length(values_tested),<span class=hljs-string >&quot;N&quot;</span>.*<span class=hljs-string >&quot;/&quot;</span>.*values_tested))</code></pre> <div id=fdplnf  style=""></div> <script> graphDiv = document.getElementById("fdplnf"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/Activity/output/date_strategy.json'); </script> <pre><code class="plaintext hljs">We discarded 5 partners (from 20 partners).
The best score there was 19.
[19, 10, 2, 1, 6][12, 9, 8, 11, 15, 7, 4, 17, 20, 16, 5, 3, 14, 18, 13]
In the end we selected partner #14 of score 20.
We found our soulmate.

Testing on N = 100.
Using M = 50 (that is N/2) we got score = 0.3525
Using M = 37 (that is N/ℯ) we got score = 0.37606666666666666
Using M = 33 (that is N/3) we got score = 0.37456666666666666
Using M = 25 (that is N/4) we got score = 0.3532666666666667
Using M = 20 (that is N/5) we got score = 0.3268333333333333
Using M = 17 (that is N/6) we got score = 0.3065333333333333
Using M = 14 (that is N/7) we got score = 0.28196666666666664
Where score is the probability of having found our soulmate.
</code></pre></p> <iframe src="https://www.desmos.com/calculator/7xjua3xllw" width="100%" style="aspect-ratio:16/9;"></iframe> <blockquote> <p>Problema ispirato da <a href="https://plus.maths.org/content/mathematical-dating">https://plus.maths.org/content/mathematical-dating</a>.</p> </blockquote> <h3 id=traffic_problem ><a href="#traffic_problem" class=header-anchor >Traffic problem</a></h3> <p>Si consideri una rete di traffico descritta da un grafo <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy=false >(</mo><mi>V</mi><mo separator=true >,</mo><mi>A</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">G = (V, A)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class=mclose >)</span></span></span></span> i cui archi rappresentano le strade di una città e nodi rappresentano gli incroci. I cittadini si spostano ogni giorno da alcune origini verso alcune destinazioni. Sia <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">d_k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8444em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">d</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> la quantità di auto che lasciano punto <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>k</mi></msub><mo>∈</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">s_k \in V</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6891em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">s</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> e si spostano verso la destinazione <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>k</mi></msub><mo>∈</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">t_k \in V</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7651em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">t</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span>. Sia <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>FFT</mtext><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\text{FFT}_{ij}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.9694em;vertical-align:-0.2861em;"></span><span class=mord ><span class="mord text"><span class=mord >FFT</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> &#40;<em>free flow time</em>&#41; il tempo di percorrenza della strada &#40;arco&#41; <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><mi>i</mi><mo separator=true >,</mo><mi>j</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">(i, j)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathnormal">i</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class=mclose >)</span></span></span></span> se la strada <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><mi>i</mi><mo separator=true >,</mo><mi>j</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">(i, j)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathnormal">i</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class=mclose >)</span></span></span></span> è vuota. Il tempo di viaggio su un arco aumenta però naturalmente con il flusso crescente su quell&#39;arco. Una soglia di congestione <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">u_{ij}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7167em;vertical-align:-0.2861em;"></span><span class=mord ><span class="mord mathnormal">u</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> viene quindi definita per ogni arco e non deve essere superata dal traffico lungo quella strada.<br />Modellare il problema di assegnazione del traffico alle strade in modo da ridurre al minimo il tempo totale di viaggio.</p> <p><pre><code class="julia hljs"><span class=hljs-keyword >using</span> JuMP
<span class=hljs-keyword >using</span> Ipopt
<span class=hljs-keyword >using</span> Plots
<span class=hljs-keyword >using</span> Random

Random.seed!(<span class=hljs-number >42</span>)

<span class=hljs-comment ># Example data for nodes (V), arcs (A), and demands (K)</span>
n_nodes = <span class=hljs-number >5</span>
V = <span class=hljs-number >1</span>:n_nodes  <span class=hljs-comment ># Nodes</span>
A = [(i, j) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:n_nodes <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:n_nodes <span class=hljs-keyword >if</span> i != j]  <span class=hljs-comment ># Arcs</span>
K = [(<span class=hljs-number >1</span>, <span class=hljs-number >4</span>), (<span class=hljs-number >2</span>, <span class=hljs-number >3</span>), (<span class=hljs-number >2</span>, <span class=hljs-number >4</span>), (<span class=hljs-number >2</span>, <span class=hljs-number >5</span>)]  <span class=hljs-comment ># Origin-destination pairs</span>
d = <span class=hljs-number >100</span>*ones(length(K))  <span class=hljs-comment ># Demand for each origin-destination pair</span>

<span class=hljs-comment ># Free flow travel time for each arc (FFTi) and congestions u_ij</span>
FFTi = <span class=hljs-built_in >Dict</span>{<span class=hljs-built_in >Tuple</span>{<span class=hljs-built_in >Int</span>, <span class=hljs-built_in >Int</span>}, <span class=hljs-built_in >Float64</span>}()
u = <span class=hljs-built_in >Dict</span>{<span class=hljs-built_in >Tuple</span>{<span class=hljs-built_in >Int</span>, <span class=hljs-built_in >Int</span>}, <span class=hljs-built_in >Float64</span>}()

<span class=hljs-keyword >for</span> arc <span class=hljs-keyword >in</span> A
    FFTi[arc] = rand(<span class=hljs-number >1</span>:<span class=hljs-number >10</span>)  <span class=hljs-comment ># Random travel time between 1 and 10</span>
    u[arc] = rand(<span class=hljs-number >80</span>:<span class=hljs-number >120</span>)  <span class=hljs-comment ># Random congestion threshold between 80 and 120</span>
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># Create the optimization model</span>
model = Model(Ipopt.Optimizer)

<span class=hljs-comment ># Define variables: x[k,i,j] for each demand pair (k) and arc (i,j)</span>
<span class=hljs-meta >@variable</span>(model, x[<span class=hljs-number >1</span>:length(K), <span class=hljs-number >1</span>:length(A)] &gt;= <span class=hljs-number >0</span>)

<span class=hljs-comment ># Objective: Minimize total travel time</span>
<span class=hljs-meta >@objective</span>(model, Min, sum(FFTi[A[j]] * sum(x[k, j] <span class=hljs-keyword >for</span> k <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(K)) <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A)))

<span class=hljs-comment ># Flow conservation constraints</span>
<span class=hljs-keyword >for</span> k <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(K)
    s_k, t_k = K[k]
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> V
        <span class=hljs-keyword >if</span> i == s_k
            <span class=hljs-meta >@constraint</span>(model, sum(x[k, j] <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A) <span class=hljs-keyword >if</span> A[j][<span class=hljs-number >1</span>] == i) - sum(x[k, j] <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A) <span class=hljs-keyword >if</span> A[j][<span class=hljs-number >2</span>] == i) == d[k])
        <span class=hljs-keyword >elseif</span> i == t_k
            <span class=hljs-meta >@constraint</span>(model, sum(x[k, j] <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A) <span class=hljs-keyword >if</span> A[j][<span class=hljs-number >1</span>] == i) - sum(x[k, j] <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A) <span class=hljs-keyword >if</span> A[j][<span class=hljs-number >2</span>] == i) == -d[k])
        <span class=hljs-keyword >else</span>
            <span class=hljs-meta >@constraint</span>(model, sum(x[k, j] <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A) <span class=hljs-keyword >if</span> A[j][<span class=hljs-number >1</span>] == i) - sum(x[k, j] <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A) <span class=hljs-keyword >if</span> A[j][<span class=hljs-number >2</span>] == i) == <span class=hljs-number >0</span>)
        <span class=hljs-keyword >end</span>
    <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># Congestion threshold constraints</span>
<span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A)
    <span class=hljs-meta >@constraint</span>(model, sum(x[k, j] <span class=hljs-keyword >for</span> k <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(K)) &lt;= u[A[j]])
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># Solve the model</span>
optimize!(model)

<span class=hljs-comment ># Extract results</span>
x_opt = value.(x)

<span class=hljs-comment ># Print results</span>
<span class=hljs-keyword >for</span> k <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(K)
    println(<span class=hljs-string >&quot;Traffic flow for demand pair <span class=hljs-subst >$(K[k])</span>:&quot;</span>)
    <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A)
        println(<span class=hljs-string >&quot;Arc <span class=hljs-subst >$(A[j])</span>: <span class=hljs-subst >$(x_opt[k, j])</span> cars&quot;</span>)
    <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>


<span class=hljs-comment ># Plot the traffic network with flows</span>
theta = <span class=hljs-number >2</span> * <span class=hljs-literal >π</span> * (<span class=hljs-number >0</span>:n_nodes-<span class=hljs-number >1</span>) / n_nodes
x_plot = <span class=hljs-number >1</span> * cos.(theta)
y_plot = <span class=hljs-number >1</span> * sin.(theta)

arc_plot = [(x_plot[i], x_plot[j], y_plot[i], y_plot[j]) <span class=hljs-keyword >for</span> (i, j) <span class=hljs-keyword >in</span> A]

<span class=hljs-comment ># Generate a list of colors based on the number of demand pairs</span>
colors = [RGB(rand(), rand(), rand()) <span class=hljs-keyword >for</span> _ <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(K)]

<span class=hljs-comment ># Function to slightly shift points for better visualization</span>
<span class=hljs-keyword >function</span> shift_points(x1, y1, x2, y2, shift_factor)
    dx = x2 - x1
    dy = y2 - y1
    dist = sqrt(dx^<span class=hljs-number >2</span> + dy^<span class=hljs-number >2</span>)
    shift_x = -dy / dist * shift_factor
    shift_y = dx / dist * shift_factor
    <span class=hljs-keyword >return</span> (x1 + shift_x, y1 + shift_y, x2 + shift_x, y2 + shift_y)
<span class=hljs-keyword >end</span>

plot()
<span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(A)
    x1, x2, y1, y2 = arc_plot[j]
    <span class=hljs-keyword >for</span> k <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(K)
        flow = x_opt[k, j]
        <span class=hljs-keyword >if</span> flow &gt; <span class=hljs-number >0</span>
            sx1, sy1, sx2, sy2 = shift_points(x1, y1, x2, y2, <span class=hljs-number >0.04</span> * k)
            plot!([sx1, sx2], [sy1, sy2], arrow=:arrow, label=<span class=hljs-string >&quot;&quot;</span>,
                color=colors[k], linewidth=<span class=hljs-number >2</span>,<span class=hljs-comment ># + flow/50,</span>
                alpha=<span class=hljs-number >0.6</span>)
            mid_x = (sx1 + sx2) / <span class=hljs-number >2</span>
            mid_y = (sy1 + sy2) / <span class=hljs-number >2</span>
            annotate!(mid_x, mid_y, text(<span class=hljs-string >&quot;<span class=hljs-subst >$(round(<span class=hljs-built_in >Int64</span>,flow)</span>)&quot;</span>, <span class=hljs-number >8</span>, colors[k]))
        <span class=hljs-keyword >end</span>
    <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>

scatter!(x_plot, y_plot, label=<span class=hljs-string >&quot;Nodes&quot;</span>, legend=:outertopleft)
annotate!(x_plot, y_plot, string.(V))
<span class=hljs-keyword >for</span> k <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(K)
    label = <span class=hljs-string >&quot;Path <span class=hljs-subst >$(K[k][<span class=hljs-number >1</span>])</span>→<span class=hljs-subst >$(K[k][<span class=hljs-number >2</span>])</span>&quot;</span>
    plot!([], [], color=colors[k], label=label)
<span class=hljs-keyword >end</span>

title!(<span class=hljs-string >&quot;Traffic Network with Flows&quot;</span>)</code></pre> <img src="/assets/scripts/Activity/output/traffic_problem.svg" alt=""> <pre><code class="plaintext hljs">This is Ipopt version 3.14.14, running with linear solver MUMPS 5.6.2.

Number of nonzeros in equality constraint Jacobian...:      160
Number of nonzeros in inequality constraint Jacobian.:       80
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:       80
                     variables with only lower bounds:       80
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:       20
Total number of inequality constraints...............:       20
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:       20

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  3.9999960e+00 1.00e+02 7.00e+00  -1.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  4.1623134e+00 1.00e+02 7.00e+00  -1.0 5.03e+01    -  4.96e-04 4.96e-04h  1
   2  2.0988917e+02 9.15e+01 9.43e+00  -1.0 1.00e+02    -  2.23e-04 8.43e-02h  1
   3  5.0421487e+02 7.92e+01 6.43e+00  -1.0 9.28e+01    -  3.08e-01 1.34e-01h  1
   4  1.9743373e+03 1.75e+01 7.49e+00  -1.0 7.93e+01    -  1.21e-02 7.79e-01h  1
   5  1.9924851e+03 1.67e+01 7.04e+00  -1.0 2.70e+01    -  6.14e-02 4.59e-02h  1
   6  2.0759046e+03 1.33e+01 7.24e+00  -1.0 2.78e+01    -  2.05e-02 2.03e-01h  1
   7  2.1551123e+03 1.03e+01 7.24e+00  -1.0 3.57e+01    -  4.91e-02 2.30e-01h  1
   8  2.1629523e+03 9.96e+00 2.80e+00  -1.0 3.03e+01    -  5.85e-01 2.97e-02h  1
   9  2.1640031e+03 9.91e+00 3.09e+00  -1.0 9.93e+01    -  2.10e-02 4.79e-03h  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  2.2568808e+03 6.01e+00 4.20e+00  -1.0 1.01e+02    -  1.71e-02 3.93e-01h  1
  11  2.3867583e+03 2.02e+00 3.97e+00  -1.0 5.10e+01    -  1.20e-01 6.64e-01h  1
  12  2.4369340e+03 7.93e-01 9.18e-01  -1.0 6.10e+00    -  7.83e-01 6.08e-01h  1
  13  2.4696395e+03 1.21e-09 3.09e-01  -1.0 4.05e+00    -  5.24e-01 1.00e+00h  1
  14  2.4696125e+03 3.22e-10 4.90e-03  -1.0 4.16e+00    -  9.87e-01 1.00e+00f  1
  15  2.4643106e+03 1.12e-10 2.00e-07  -1.7 3.21e-01    -  1.00e+00 1.00e+00f  1
  16  2.4630097e+03 1.03e-11 4.28e-06  -3.8 6.23e-02    -  1.00e+00 1.00e+00f  1
  17  2.4630001e+03 2.84e-14 1.85e-11  -5.7 1.05e-02    -  1.00e+00 1.00e+00f  1
  18  2.4630000e+03 1.42e-14 2.66e-14  -8.6 1.51e-03    -  1.00e+00 1.00e+00f  1

Number of Iterations....: 18

                                   (scaled)                 (unscaled)
Objective...............:   2.4629999790753836e+03    2.4629999790753836e+03
Dual infeasibility......:   2.6645352591003757e-14    2.6645352591003757e-14
Constraint violation....:   1.4210854715202004e-14    1.4210854715202004e-14
Variable bound violation:   9.8526023534162266e-09    9.8526023534162266e-09
Complementarity.........:   3.4143293206596104e-09    3.4143293206596104e-09
Overall NLP error.......:   3.4143293206596104e-09    3.4143293206596104e-09


Number of objective function evaluations             = 19
Number of objective gradient evaluations             = 19
Number of equality constraint evaluations            = 19
Number of inequality constraint evaluations          = 19
Number of equality constraint Jacobian evaluations   = 1
Number of inequality constraint Jacobian evaluations = 1
Number of Lagrangian Hessian evaluations             = 1
Total seconds in IPOPT                               = 0.021

EXIT: Optimal Solution Found.</code></pre></p> <blockquote> <p>Problema tratto dagli esercizi del corso di Optimization al polimi</p> </blockquote> <h3 id=polygon_problem ><a href="#polygon_problem" class=header-anchor >Polygon problem</a></h3> <p>Dato un numero intero positivo <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>, trovare il poligono con <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> lati con diametro &#40;ovvero la distanza massima tra due vertici&#41; minore o uguale a 1, e di area massima.</p> <p>Un suo esempio di applicazione reale sarebbe massimizzare l&#39;area delimitata da un recinto, imponendo che questo possa essere chiuso in sottorecinti a piacere se necessario, usando staccionate unitarie &#40;ovvero la distanza tra ogni coppia di vertice deve essere ≤1&#41;.</p> <p><pre><code class="julia hljs"><span class=hljs-keyword >using</span> JuMP
<span class=hljs-keyword >using</span> Ipopt
<span class=hljs-keyword >using</span> Plots

<span class=hljs-comment ># Define the number of vertices</span>
n = <span class=hljs-number >5</span> <span class=hljs-comment ># You can change this to the desired number of vertices</span>

<span class=hljs-comment ># Create the optimization model</span>
model = Model(Ipopt.Optimizer)

<span class=hljs-comment ># Define variables: r and phi for each vertex</span>
<span class=hljs-meta >@variable</span>(model, r[<span class=hljs-number >1</span>:n] &gt;= <span class=hljs-number >0</span>)
<span class=hljs-meta >@variable</span>(model, <span class=hljs-number >0</span> &lt;= phi[<span class=hljs-number >1</span>:n] &lt;= <span class=hljs-number >2</span><span class=hljs-literal >π</span>)

<span class=hljs-comment ># Define the objective function (maximize area)</span>
<span class=hljs-meta >@objective</span>(model, Max,
    <span class=hljs-number >0.5</span> * sum(r[i] * r[i+<span class=hljs-number >1</span>] * sin(phi[i+<span class=hljs-number >1</span>] - phi[i]) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:n-<span class=hljs-number >1</span>) +
    <span class=hljs-number >0.5</span> * r[n] * r[<span class=hljs-number >1</span>] * sin(<span class=hljs-number >2</span><span class=hljs-literal >π</span> - phi[n] + phi[<span class=hljs-number >1</span>])
)

<span class=hljs-comment ># Define the constraints for the distance between each pair of vertices</span>
<span class=hljs-meta >@constraint</span>(model, [i=<span class=hljs-number >1</span>:n, j=<span class=hljs-number >1</span>:n; j &gt; i], r[i]^<span class=hljs-number >2</span> + r[j]^<span class=hljs-number >2</span> - <span class=hljs-number >2</span> * r[i] * r[j] * cos(phi[i] - phi[j]) &lt;= <span class=hljs-number >1</span>)

<span class=hljs-comment ># Define the constraints for ordering angles</span>
<span class=hljs-meta >@constraint</span>(model, [i=<span class=hljs-number >1</span>:n-<span class=hljs-number >1</span>], phi[i] &lt;= phi[i+<span class=hljs-number >1</span>])

<span class=hljs-comment ># Solve the model</span>
optimize!(model)

<span class=hljs-comment ># Get the optimal values for r and phi</span>
r_opt = value.(r)
phi_opt = value.(phi)

<span class=hljs-comment ># Convert polar coordinates to Cartesian coordinates for plotting</span>
x = r_opt .* cos.(phi_opt)
y = r_opt .* sin.(phi_opt)

<span class=hljs-comment ># Add the first vertex to close the polygon</span>
x = vcat(x, x[<span class=hljs-number >1</span>])
y = vcat(y, y[<span class=hljs-number >1</span>])

println(<span class=hljs-string >&quot;Case n=<span class=hljs-variable >$n</span>&quot;</span>)
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(x)
    println(<span class=hljs-string >&quot;P_<span class=hljs-variable >$i</span> = (&quot;</span>,round(x[i],digits=<span class=hljs-number >4</span>), <span class=hljs-string >&quot;, &quot;</span>, round(y[i],digits=<span class=hljs-number >4</span>),<span class=hljs-string >&quot;)&quot;</span>)
<span class=hljs-keyword >end</span>

<span class=hljs-comment ># Plot the resulting polygon</span>
plot(x, y, seriestype=:shape, label=<span class=hljs-string >&quot;Optimal Polygon&quot;</span>, fillalpha=<span class=hljs-number >0.3</span>, aspect_ratio=:equal, legend=<span class=hljs-literal >false</span>)
scatter!(x, y, label=<span class=hljs-string >&quot;Vertices&quot;</span>)
title!(<span class=hljs-string >&quot;Optimal Polygon with n=<span class=hljs-variable >$n</span> Vertices&quot;</span>)

<span class=hljs-comment ># Function to generate points on a circle</span>
<span class=hljs-keyword >function</span> circle_points(center_x, center_y, radius, num_points=<span class=hljs-number >100</span>)
    theta = range(<span class=hljs-number >0</span>, <span class=hljs-number >2</span>*<span class=hljs-literal >pi</span>, length=num_points)
    cx = center_x .+ radius .* cos.(theta)
    cy = center_y .+ radius .* sin.(theta)
    <span class=hljs-keyword >return</span> cx, cy
<span class=hljs-keyword >end</span>
<span class=hljs-comment ># Plot a circle of radius 1 from each vertex</span>
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:n
    circle_x, circle_y = circle_points(x[i], y[i], <span class=hljs-number >1</span>)
    plot!(circle_x, circle_y, label=<span class=hljs-literal >false</span>, linestyle=:solid, color=:red, alpha=<span class=hljs-number >0.3</span>)
<span class=hljs-keyword >end</span>

xlims!(minimum(x)-<span class=hljs-number >0.2</span>, maximum(x)+<span class=hljs-number >0.2</span>)
ylims!(minimum(y)-<span class=hljs-number >0.2</span>, maximum(y)+<span class=hljs-number >0.2</span>)</code></pre> </p> <img src="/assets/scripts/Activity/output/polygon_10.svg" alt=""> <blockquote> <p>Problema tratto dagli esercizi del corso di Optimization al polimi</p> </blockquote> <h3 id=modi_per_salire_una_scala ><a href="#modi_per_salire_una_scala" class=header-anchor >Modi per salire una scala</a></h3> <p></p> <iframe width="80%" style="aspect-ratio:16/9; margin: auto;" src="https://www.youtube.com/embed/HWJOsKOcUJk?rel=0"> </iframe> <p></p> <p>In quanti modi si può salire una scala lunga <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> gradini, potendo salire al massimo 2 scalini per volta? Chiamando <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">S(n)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mclose >)</span></span></span></span> questo numero di modi in funzione di <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>, risulta che la soluzione è molto semplice:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo stretchy=false >)</mo><mo>=</mo><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy=false >)</mo><mo>+</mo><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> S(n) = S(n-1) + S(n-2) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >1</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >2</span><span class=mclose >)</span></span></span></span></span> <p>perché moralmente come primo passo dobbiamo sempre fare un passo lungo 1 o lungo 2, indipendentemente da quanto la scala sia alta, e da quei passi poi possiamo riciclare i calcoli già fatti prima per scale ora alte <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >1</span></span></span></span> e <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">n-2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >2</span></span></span></span> rispettivamente.</p> <p>Mentre generalizzando il calcolo, supponendo cioè di avere un altro parametro <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> che regola quanti scalini risuciamo a salire al massimo con un solo passo, la soluzione diventa</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo separator=true >,</mo><mi>k</mi><mo stretchy=false >)</mo><mo>=</mo><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy=false >)</mo><mo>+</mo><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy=false >)</mo><mo>+</mo><mo>…</mo><mo>+</mo><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> S(n,k) = S(n-1) + S(n-2) + \ldots + S(n-k) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >1</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >2</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class=minner >…</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class=mclose >)</span></span></span></span></span> <p>I numeri iniziali si devono trovare a mano o usando formule di <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo stretchy=false >(</mo><mi>n</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">S(n)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mclose >)</span></span></span></span> per <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> più bassi, in un modo un po&#39; più complicata da capire &#40;e poi convertire in codice&#41;. Per capirlo vi rimando al video &#40;che probabilmente devo ancora registrare ovviamente&#41;.</p> <p><pre><code class="julia hljs"><span class=hljs-keyword >using</span> Plots

<span class=hljs-keyword >function</span> S(n,k)
	<span class=hljs-comment ># actually very inefficient with recursion</span>
	n==<span class=hljs-number >0</span> &amp;&amp; <span class=hljs-keyword >return</span> <span class=hljs-number >0</span>
	n==<span class=hljs-number >1</span> &amp;&amp; <span class=hljs-keyword >return</span> <span class=hljs-number >1</span>
	<span class=hljs-keyword >if</span> n&lt;k 
		<span class=hljs-keyword >return</span> S(n,n)
	<span class=hljs-keyword >elseif</span> n==k
		<span class=hljs-keyword >return</span> S(n,k-<span class=hljs-number >1</span>)+<span class=hljs-number >1</span>
	<span class=hljs-keyword >else</span> <span class=hljs-comment ># n&gt;k</span>
		<span class=hljs-keyword >return</span> sum(S(n-i,k) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:k)
	<span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>

scale = <span class=hljs-number >1</span>:<span class=hljs-number >14</span>
modi_1 = S.(scale,<span class=hljs-number >1</span>)
modi_2 = S.(scale,<span class=hljs-number >2</span>)
modi_3 = S.(scale,<span class=hljs-number >3</span>)
modi_4 = S.(scale,<span class=hljs-number >4</span>)
modi_5 = S.(scale,<span class=hljs-number >5</span>)

plot(scale, modi_1, marker=:circle, line=:solid, label=<span class=hljs-string >&quot;k=1&quot;</span>, legend=:left)
plot!(scale, modi_2, marker=:circle, line=:solid, label=<span class=hljs-string >&quot;k=2&quot;</span>)
plot!(scale, modi_3, marker=:circle, line=:solid, label=<span class=hljs-string >&quot;k=3&quot;</span>)
plot!(scale, modi_4, marker=:circle, line=:solid, label=<span class=hljs-string >&quot;k=4&quot;</span>)
plot!(scale, modi_5, marker=:circle, line=:solid, label=<span class=hljs-string >&quot;k=5&quot;</span>)

plot!(xticks=collect(scale))
xlabel!(<span class=hljs-string >&quot;Gradini&quot;</span>)
ylabel!(<span class=hljs-string >&quot;Modi&quot;</span>)
title!(<span class=hljs-string >&quot;Comparison of S(n, k) for different k values&quot;</span>)</code></pre> <div id=fdpyls  style=""></div> <script> graphDiv = document.getElementById("fdpyls"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/Activity/output/scale.json'); </script> </p> <label for=inputN >n:</label> <input type=number  id=inputN  min=1 > <label for=inputK >k:</label> <input type=number  id=inputK  min=1 > <button onclick="calculate()">Calcola</button> <div id=result ></div> <script> function S(n, k) { let dp = Array.from({ length: n + 1 }, () => Array(k + 1).fill(0)); for (let j = 1; j <= k; j++) { dp[1][j] = 1; } for (let i = 2; i <= n; i++) { for (let j = 1; j <= k; j++) { if (i < j) { dp[i][j] = dp[i][i]; } else if (i == j) { dp[i][j] = dp[i][j - 1] + 1; } else { dp[i][j] = 0; for (let m = 1; m <= j; m++) { dp[i][j] += dp[i - m][j]; } } } } return dp[n][k]; } function calculate() { let n = parseInt(document.getElementById("inputN").value); let k = parseInt(document.getElementById("inputK").value); let result = S(n, k); document.getElementById("result").innerText = `Risultato: ${result}`; } </script> <blockquote> <p>Problema ispirato da <a href="https://plus.maths.org/content/its-long-way-top">https://plus.maths.org/content/its-long-way-top</a>.</p> </blockquote> <h3 id=condivisione_equa_di_diversi_contributi ><a href="#condivisione_equa_di_diversi_contributi" class=header-anchor >Condivisione equa di diversi contributi</a></h3> <p>Due amiche, Astrid e Beatrice, hanno organizzato un picnic. Per pigrizia hanno però deciso di cucinare un&#39;unica pietanza, il riso freddo, e si sono anche accordate che ognuna preparasse quante porzioni riuscisse e che poi le avrebbero condivise ed eventualmente sistemato i conti alla fine. </p> <p>Astrid ha portato con sé 3 porzioni &#40;ciotoline&#41; di riso freddo, mentre Beatrice 5. Sono sul punto di pranzare quando&#39;ecco che appare anche Carla&#33;, un&#39;altra loro amica, che chiede di unirsi a loro per il picnic, pur non avendo portato niente, ma ovviamente promettendo di saldare il conto alla fine. Astrid e Beatrice accolgono quindi volentieri la nuova arrivata. A questo punto dividono ogni porzione in tre parti uguali, dove supponiamo che ogni parte valga 1€<sup id="fnref:3"><a href="#fndef:3" class=fnref >[3]</a></sup>, e se le distribuiscono tra loro. Le tre amiche sono molto affamate, e quindi ognuna finisce interamente il riso che le è stato assegnato.</p> <p>&quot;Gran bella mangiata&#33;&quot; riassume alla fine Carla, &quot;ma... quanto vi devo? Vediamo: io ho mangiato 8 porzioncine, dalle vostre 3&#43;5 porzioni originali, per quindi un costo di 8€. Di tutto il riso, tu Astrid ne avevi portato i 3/8, mentre Beatrice 5/8, quindi... dovrei dare 3€ ad Astrid e 5€ a Bea, giusto?&quot;. &quot;Mi sembra giusto&quot; conferma Astrid. &quot;No invece&#33;&quot; esclama Beatrice, scioccata dall&#39;incompetenza matematica delle sue amiche.</p> <p>In effetti Beatrice ha ragione. <em>Ma perché? E quale sarebbe la divisione più corretta?</em> </p> <p>Il problema può essere esteso in forma generale avendo un picnic con <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> amiche iniziali, in cui ognuna porta <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub><mo separator=true >,</mo><mo>…</mo><mo separator=true >,</mo><msub><mi>n</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">n_1, \ldots, n_k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class=mord ><span class="mord mathnormal">n</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=minner >…</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord ><span class="mord mathnormal">n</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> porzioni di riso, che sono poi raggiunte da altre <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> amiche che non hanno portato nulla, ma che alla fine devono pagare una certa somma alle altre amiche.</p> <blockquote> <p>Problema ispirato da <a href="https://plus.maths.org/content/sharing-cakes">https://plus.maths.org/content/sharing-cakes</a>.</p> </blockquote> <table class=fndef  id="fndef:3"> <tr> <td class=fndef-backref ><a href="#fnref:3">[3]</a> <td class=fndef-content >questa è solo una semplificazione. Si potrebbe fissare, in modo più verosimile, il costo della porzione inziale &#40;intera&#41;, e non della sotto-porzione &#40;divisa&#41;, ma questo complicherebbe solo i calcoli. Comunque una volta trovata la soluzione si può convertirla in valori &quot;relativi&quot; e quindi si può ripristinare il valore esatto in base al costo vero della porzione di partenza. </table> <h3 id=triello_probabilistico ><a href="#triello_probabilistico" class=header-anchor >Triello probabilistico</a></h3> <p>Tre signori A, B e C hanno fissato un duello a tre armi &#40;un triello quindi&#41; per risolvere una disputa. Erano amici da molto tempo, solo quest&#39;ultima litigata ha irrimediabilmente rotto ogni rapporto, quindi tutti conoscono le caratteristiche di tutti: si sa che l&#39;accuratezza, ovvero la probabilità di colpire il bersaglio, di A è 0.3, di C è 0.5, mentre B è infallibile, lo centra sempre.</p> <p>È stato fissato l&#39;ordine di inizio: A, B, poi C. Ognuno, al proprio turno, deve sparare un colpo decidendo come vuole il suo bersaglio, valutando per esempio quale sia la sua strategia ottimale per sopravvivere. Ovviamente se uno viene colpito muore, e quindi non può eseguire il proprio turno di sparo &#40;ma naturalmente se uno è morto dover saltare un turno è l&#39;ultimo dei suoi problemi&#41;. Il triello finisce quando un solo uomo rimane vivo.</p> <p><em>Se voi foste il signor A, quale strategia utilizzereste?</em></p> <img src="/assets/img/duello_cut.png" alt=""> <h3 id=testando_la_resistenza_delle_uova ><a href="#testando_la_resistenza_delle_uova" class=header-anchor >Testando la resistenza delle uova</a></h3> <p>Immaginate di essere un allevatore che, incrociando varie razze di gallina, è riuscito ad ottenerne una che depone delle uova particolarmente forti. Volete quindi testare di preciso quanto siano resistenti queste uova, e per farlo decidete di lanciarle dai vari piani di un edificio di 100 piani. </p> <p>Il vostro obiettivo è quindi di trovare il piano più alto da cui un uovo può cadere senza rompersi. Se aveste un solo uovo sapreste subito come fare: prima lanciate l&#39;uovo dal primo piano, se non si rompe passate al secondo, poi al terzo, e così via. Ci vorrebbero, nel caso peggiore, 100 lanci per trovare la soluzione. </p> <p>Ma ora supponiamo che voi abbiate 2 uova. <em>Quale strategia utilizzereste ora per trovare la risposta in modo da minimizzare il caso peggiore del numero di lanci da effettuare?</em></p> <p>Supponete infine di avere infinite uova. <em>Come agireste in questo caso?</em></p> <img src="/assets/img/gallina2_cut.png" alt=""> <blockquote> <p>Problema ispirato da <a href="https://plus.maths.org/content/dropping-eggs">https://plus.maths.org/content/dropping-eggs</a>.</p> </blockquote> <h3 id=babbo_natale_e_le_dismutazioni ><a href="#babbo_natale_e_le_dismutazioni" class=header-anchor >Babbo Natale e le dismutazioni</a></h3> <p>Babbo Natale ha ricevuto <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> letterine dai bambini di tutto il mondo, ciascuna con la lista di regali desiderati. Dopo aver letto attentamente tutte le letterine, e organizzato le spedizioni dei regali, Babbo Natale decide di rispondere personalmente a ciascun bambino, scrivendo un&#39;altra lettera come risposta.</p> <p>Tuttavia, nella fretta di preparare tutto per le feste, Babbo Natale &#40;e i suoi elfi responsabili della logistica&#41; si confondono, e non sanno più quali erano le buste originali con le lettere dei bambini. Così, quando sono sul punto di inviare tutto, finiscono per mettere le lettere di risposta nelle varie buste in modo completamente casuale.</p> <p><em>Qual è la proabilità che nessun bambino riceva la lettera di risposta che era destinata a lui?</em></p> <img src="/assets/img/bnatale1_cut.jpg" alt=""> <div class=page-foot > Last modified: August 20, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the lovely <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>