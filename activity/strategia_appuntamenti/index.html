<!doctype html> <html lang=en > <a id=top ></a> <link rel=icon  href="/assets/favicon.png"> <link rel=icon  type="image/x-icon" href="/assets/favicon.png"> <link rel=icon  type="image/png" href="/assets/favicon.png"/> <link rel=icon  href="/assets/main img.jpg"> <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { response = await fetch(url); fig = await response.json(); Plotly.newPlot(div, fig); }; </script> <link rel=stylesheet  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/poole_hyde.css"> <link rel=icon  href="/assets/favicon.png"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <title>Strategia ottimale per appuntamenti</title> <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { console.log("url: ",url); console.log("div: ",div); response = await fetch(url); fig = await response.json(); if (typeof fig.config === 'undefined') { fig["config"]={} } delete fig.layout.width delete fig.layout.height fig["layout"]["autosize"] = true fig["config"]["autosizable"] = true fig["config"]["responsive"] = true fig.config["scrollZoom"] = false delete fig.config.staticPlot delete fig.config.displayModeBar delete fig.config.doubleClick delete fig.config.showTips Plotly.newPlot(div, fig); }; </script> --> <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { response = await fetch(url); fig = await response.json(); Plotly.newPlot(div, fig); }; </script> <!-- <a class=backToTopBtn  title="back to top // torna in cima" href="#top"> <span class=backToTopBtn-icon >^</span> </a> --> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <!-- <h1><a href="/">Hyde</a></h1> <p class=lead >A two-column theme.</p> --> <h1><a href="/">Eccoci.<img style="display: block; margin: 0 auto; margin-bottom: 20px"; width=170 ; src="/assets/main img.jpg" alt="main img"/></a></h1> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/">Home</a> <a class="sidebar-nav-item " href="/activity/">Attività</a> <a class="sidebar-nav-item " href="/uni/">Uni</a> <a class="sidebar-nav-item " href="/portfolio/">Portfolio</a> </nav> <a href="https://www.youtube.com/channel/UC1_68R2Kv1htcZ1It5il7CQ" target=_blank rel=noopener> <i class="fab fa-youtube big-icon"></i></a> <a href="https://www.instagram.com/divergentissimo/" target=_blank rel=noopener> <a href="https://www.linkedin.com/in/federico-angelo-mor/" target=_blank rel=noopener> <i class="fab fa-linkedin big-icon"></i></a> <a href="https://github.com/federicomor" target=_blank rel=noopener> <i class="fab fa-github big-icon"></i></a> </div> </div> <div class="content container"> <a class=backToTopBtn  title="back to top // torna in cima" href="#top"> <span class=backToTopBtn-icon >∧</span> </a> <div class=franklin-content > <h2 id=strategia_ottimale_per_appuntamenti ><a href="#strategia_ottimale_per_appuntamenti" class=header-anchor >Strategia ottimale per appuntamenti</a></h2> <p>Vediamo ora una delle domande più cruciali nella vita sentimentale: <em>quante persone dovremmo frequentare prima di scegliere quella con cui stabilizzarci per qualcosa di più serio?</em></p> <p>È una domanda difficile, ma la matematica può aiutarci trovando una risposta: il <span style="filter: blur(8px); cursor: pointer; transition: filter 0.5s ease; background-color: #ffffff; outline: none;" onclick="this.style.filter='none'; this.style.cursor='default';">37%</span> . In pratica, di tutte le persone con cui possibilmente potremmo fissare un appuntamento, dovremmo conoscere ma scartare a priori le prime <span style="filter: blur(8px); cursor: pointer; transition: filter 0.5s ease; background-color: #ffffff; outline: none;" onclick="this.style.filter='none'; this.style.cursor='default';">37%</span> , dalla nostra &quot;scelta definitiva&quot;, e poi continuare gli appuntamenti fino ad accasarci con la prima persona che incontriamo e che valutiamo migliore di quelle viste prima &#40;o altrimenti aspettare l&#39;ultima persona, se questa scelta migliore non si presenta&#41;.</p> <p>Perché è una buona strategia?<sup id="fnref:1"><a href="#fndef:1" class=fnref >[1]</a></sup> Ovviamente non conviene scegliere la prima persona che incontriamo, per quanto possa sembrare promettente, perché qualcuno di meglio potrebbe apparire più tardi. D&#39;altra parte, non vogliamo nemmeno essere troppo esigenti, perché una volta che rifiutiamo qualcuno molto probabilmente non vorrà tornare da noi qualora ci ripensassimo. Ma quindi perché il <span style="filter: blur(8px); cursor: pointer; transition: filter 0.5s ease; background-color: #ffffff; outline: none;" onclick="this.style.filter='none'; this.style.cursor='default';">37%</span> ? L&#39;idea è solo di massimizzare le probabilità.</p> <img src="/assets/img/date4_cut.jpeg" alt=""> <p>Più precisamente: supponiamo di volerci &quot;sistemare&quot; entro un certo periodo. Definiamo <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> come il numero di partner che stimiamo di poter incontrare in questo periodo, e che quindi costituiscono i nostri candidati moglie/marito. Supponiamo di poter assegnare a ogni partner un punteggio da 1 a <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> per definire il nostro grado di compatibilità<sup id="fnref:2"><a href="#fndef:2" class=fnref >[2]</a></sup>. In questo gruppo ci sarà anche la nostra anima gemella, <em>quella giusta</em>, che chiamiamo <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> e che avrà quindi il punteggio massimo. Vorremo ora definire una strategia che massimizzi la probabilità di trovarla.</p> <p>Dato <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>, quindi, vorremo capire come bilanciare il rischio tra &quot;scegliere un partner iniziale magari non perfetto&quot; e &quot;scartare partner che invece col senno di poi valeva la pena scegliere&quot;, e quindi vorremo definire <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> come la soglia di persone che delimita i gruppi <em>scarto a priori</em> vs <em>ci penso seriamente</em>. La nostra strategia, come sopra anticipato, consiste allora nell&#39;incontrare – ma scartare – le prime <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> persone, in modo solo da farci un&#39;idea della qualità delle proposte, e poi scegliere, tra i partner degli appuntamenti successivi, la prima che è migliore della persona migliore incontrata nel gruppo scartato; o altrimenti l&#39;ultima se non si presenta nessuna con questo requisito.</p> <blockquote> <p>Problema ispirato da <a href="https://plus.maths.org/content/mathematical-dating">https://plus.maths.org/content/mathematical-dating</a>.</p> </blockquote> <p><table class=fndef  id="fndef:1"> <tr> <td class=fndef-backref ><a href="#fnref:1">[1]</a> <td class=fndef-content >&quot;buona strategia&quot; dal punto di vista del risolvere il problema in modo matematico, ma poi naturalmente nelle relazioni umane non ha troppo senso ragionare solo in questi termini razionali. Se per esempio il primo appuntamento ci colpisce non è che dobbiamo rifiutare quel partner solo perché la matematica dice di farlo. </table> <table class=fndef  id="fndef:2"> <tr> <td class=fndef-backref ><a href="#fnref:2">[2]</a> <td class=fndef-content >l&#39;assegnazione corretta di questi punteggi esiste ma è a noi ignota, ovviamente, perché il punteggio da assegnare a ogni partner lo sapremo esattamente solo una volta fatti tutti gli appuntamenti. Solo una volta conosciuti tutti potremmo allora dire &quot;lei era la migliore&quot; &#40;punteggio <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>&#41;, &quot;quest&#39;altra la seconda migliore&quot; &#40;punteggio <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >1</span></span></span></span>&#41;, ecc. Durante il percorso invece possiamo solo fare confronti del tipo &quot;lei era peggiore di quella vista prima&quot;, &quot;quest&#39;altra era migliore di tutte le altre viste finora&quot;, ecc, ovvero confronti relativi. </table> </p> <h2 id=soluzione ><a href="#soluzione" class=header-anchor >Soluzione</a></h2> <p>Stavolta ho impostato l&#39;articoletto come una vera storiella di divulgazione, non come domanda e risposta. Nel farlo ho cercato quindi di mantenere un discorso secondo me simpatico, ordinato, e chiaro, ma senza comunque spoilerare la soluzione. Per chi è solo interessato al risultato, basta quindi cliccare sulle parti sfocate di sopra, altrimenti continuate qui per la soluzione completa, con tutti i calcoli per arrivare al risultato finale.</p> <hr /> <p>Calcolando l&#39;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> ottimale, in funzione di <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>, risulterà che </p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>M</mi><mo>=</mo><mfrac><mi>N</mi><mi>e</mi></mfrac><mo>≈</mo><mn>0.37</mn><mo>⋅</mo><mi>N</mi></mrow><annotation encoding="application/x-tex"> M = \frac{N}{e} \approx 0.37 \cdot N </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:2.0463em;vertical-align:-0.686em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.3603em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathnormal">e</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >≈</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >0.37</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span> <p>ovvero <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> deve essere circa il <span style="filter: blur(8px); cursor: pointer; transition: filter 0.5s ease; background-color: #ffffff; outline: none;" onclick="this.style.filter='none'; this.style.cursor='default';">37%</span> di <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>.</p> <p><pre><code class="julia hljs"><span class=hljs-keyword >using</span> Random
Random.seed!(<span class=hljs-number >42</span>)

<span class=hljs-keyword >function</span> M_strategy_score(partners,M,verbose=<span class=hljs-number >0</span>)
    N = length(partners)
    <span class=hljs-meta >@assert</span> N &gt;= M+<span class=hljs-number >1</span>
    partners_not_discarded = partners[M+<span class=hljs-number >1</span>:<span class=hljs-keyword >end</span>]
    best_score_of_discarded = maximum(partners[<span class=hljs-number >1</span>:M]) <span class=hljs-comment ># il punteggio migliore tra le persone del gruppo iniziale</span>
    
    available_scores = max.(partners_not_discarded .- best_score_of_discarded,<span class=hljs-number >0</span>)
    
    out = findfirst(u -&gt; u!=<span class=hljs-number >0</span>, available_scores)
    chosen_index = isnothing(out) ? lastindex(partners_not_discarded) : out
    score_out = partners_not_discarded[chosen_index]
    found_soul_mate = score_out==N <span class=hljs-comment ># se score==N abbiamo trovato la nostra anima gemella</span>

    <span class=hljs-keyword >if</span> verbose==<span class=hljs-number >1</span>
        println(<span class=hljs-string >&quot;We discarded <span class=hljs-variable >$M</span> partners (from <span class=hljs-variable >$N</span> partners).&quot;</span>)
        println(<span class=hljs-string >&quot;The best score there was <span class=hljs-variable >$best_score_of_discarded</span>.&quot;</span>)
        printstyled(partners[<span class=hljs-number >1</span>:M]; color=:yellow)
        printstyled(partners[M+<span class=hljs-number >1</span>:<span class=hljs-keyword >end</span>]; color=:green)
        println(<span class=hljs-string >&quot;\nIn the end we selected partner #<span class=hljs-subst >$(chosen_index+M)</span> of score <span class=hljs-variable >$score_out</span>.&quot;</span>)
        println(found_soul_mate==<span class=hljs-number >1</span> ? <span class=hljs-string >&quot;We&quot;</span> : <span class=hljs-string >&quot;We didnt have&quot;</span>, <span class=hljs-string >&quot; found our soulmate.\n&quot;</span>)
    <span class=hljs-keyword >end</span>
    
    <span class=hljs-keyword >return</span> found_soul_mate <span class=hljs-comment ># return 0 or 1</span>
<span class=hljs-keyword >end</span> 

M = <span class=hljs-number >5</span>
partners = shuffle(<span class=hljs-number >1</span>:<span class=hljs-number >20</span>)
M_strategy_score(partners,M,<span class=hljs-number >1</span>)

<span class=hljs-comment ># optimal strategy should be discarding M=N/ℯ partners</span>
N = <span class=hljs-number >100</span>
simulations = <span class=hljs-number >30_000</span>
values_tested = [<span class=hljs-string >&quot;2&quot;</span>,<span class=hljs-string >&quot;ℯ&quot;</span>,<span class=hljs-string >&quot;3&quot;</span>,<span class=hljs-string >&quot;4&quot;</span>,<span class=hljs-string >&quot;5&quot;</span>,<span class=hljs-string >&quot;6&quot;</span>,<span class=hljs-string >&quot;7&quot;</span>]
M_values = round.(<span class=hljs-built_in >Int64</span>,[N/<span class=hljs-number >2</span> N/<span class=hljs-literal >ℯ</span> N/<span class=hljs-number >3</span> N/<span class=hljs-number >4</span> N/<span class=hljs-number >5</span> N/<span class=hljs-number >6</span> N/<span class=hljs-number >7</span>])
scores = zeros(length(M_values))

<span class=hljs-keyword >for</span> sim <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:simulations
    <span class=hljs-keyword >local</span> partners = shuffle(<span class=hljs-number >1</span>:N)
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(M_values)
        scores[i] += M_strategy_score(partners,M_values[i])
    <span class=hljs-keyword >end</span>
<span class=hljs-keyword >end</span>
scores ./= simulations
println(<span class=hljs-string >&quot;Testing on N = <span class=hljs-variable >$N</span>.&quot;</span>)
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:length(M_values)
    println(<span class=hljs-string >&quot;Using M = <span class=hljs-subst >$(M_values[i])</span> (that is N/<span class=hljs-subst >$(values_tested[i])</span>) we got score = <span class=hljs-subst >$(scores[i])</span>&quot;</span>)
<span class=hljs-keyword >end</span>     
    println(<span class=hljs-string >&quot;Where score is the probability of having found our soulmate.&quot;</span>)

<span class=hljs-keyword >using</span> Plots
plot(bar(scores),xticks=(<span class=hljs-number >1</span>:length(values_tested),<span class=hljs-string >&quot;N&quot;</span>.*<span class=hljs-string >&quot;/&quot;</span>.*values_tested))</code></pre> <div id=fdpclv  style=""></div> <script> graphDiv = document.getElementById("fdpclv"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/output/date_strategy.json'); </script> <pre><code class="plaintext hljs">We discarded 5 partners (from 20 partners).
The best score there was 19.
[19, 10, 2, 1, 6][12, 9, 8, 11, 15, 7, 4, 17, 20, 16, 5, 3, 14, 18, 13]
In the end we selected partner #14 of score 20.
We found our soulmate.

Testing on N = 100.
Using M = 50 (that is N/2) we got score = 0.3525
Using M = 37 (that is N/ℯ) we got score = 0.37606666666666666
Using M = 33 (that is N/3) we got score = 0.37456666666666666
Using M = 25 (that is N/4) we got score = 0.3532666666666667
Using M = 20 (that is N/5) we got score = 0.3268333333333333
Using M = 17 (that is N/6) we got score = 0.3065333333333333
Using M = 14 (that is N/7) we got score = 0.28196666666666664
Where score is the probability of having found our soulmate.
</code></pre></p> <iframe src="https://www.desmos.com/calculator/7xjua3xllw" width="100%" style="aspect-ratio:16/9;"></iframe> <script src="https://giscus.app/client.js" data-repo="federicomor/federicomor.github.io" data-repo-id=R_kgDOLBdBYA  data-category=Announcements  data-category-id=DIC_kwDOLBdBYM4Clm0M  data-mapping=url  data-strict=0  data-reactions-enabled=1  data-emit-metadata=0  data-input-position=bottom  data-theme=preferred_color_scheme  data-lang=it  // data-loading=lazy  crossorigin=anonymous  async> </script> <div class=page-foot > Last modified: May 13, 2025. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the lovely <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>