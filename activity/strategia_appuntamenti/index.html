<!doctype html> <html lang=en > <a id=top ></a> <link rel=icon  href="/assets/favicon.png"> <link rel=icon  type="image/x-icon" href="/assets/favicon.png"> <link rel=icon  type="image/png" href="/assets/favicon.png"/> <link rel=icon  href="/assets/main img.jpg"> <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <link rel=stylesheet  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/poole_hyde.css"> <link rel=icon  href="/assets/favicon.png"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <title>Strategia ottimale per appuntamenti</title> <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { console.log("url: ",url); console.log("div: ",div); response = await fetch(url); fig = await response.json(); if (typeof fig.config === 'undefined') { fig["config"]={} } delete fig.layout.width delete fig.layout.height fig["layout"]["autosize"] = true fig["config"]["autosizable"] = true fig["config"]["responsive"] = true fig.config["scrollZoom"] = false delete fig.config.staticPlot delete fig.config.displayModeBar delete fig.config.doubleClick delete fig.config.showTips Plotly.newPlot(div, fig); }; </script> --> <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { response = await fetch(url); fig = await response.json(); Plotly.newPlot(div, fig); }; </script> <!-- <a class=backToTopBtn  title="back to top // torna in cima" href="#top"> <span class=backToTopBtn-icon >^</span> </a> --> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <!-- <h1><a href="/">Hyde</a></h1> <p class=lead >A two-column theme.</p> --> <h1><a href="/">Eccoci.<img style="display: block; margin: 0 auto; margin-bottom: 20px"; width=170 ; src="/assets/main img.jpg" alt="main img"/></a></h1> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/">Home</a> <a class="sidebar-nav-item " href="/activity/">Attività</a> <a class="sidebar-nav-item " href="/uni/">Uni</a> <a class="sidebar-nav-item " href="/portfolio/">Portfolio</a> </nav> <a href="https://www.youtube.com/channel/UC1_68R2Kv1htcZ1It5il7CQ" target=_blank rel=noopener> <i class="fab fa-youtube big-icon"></i></a> <a href="https://www.instagram.com/divergentissimo/" target=_blank rel=noopener> <i class="fab fa-instagram big-icon"></i></a> <a href="https://www.linkedin.com/in/federico-angelo-mor/" target=_blank rel=noopener> <i class="fab fa-linkedin big-icon"></i></a> <a href="https://github.com/federicomor" target=_blank rel=noopener> <i class="fab fa-github big-icon"></i></a> </div> </div> <div class="content container"> <a class=backToTopBtn  title="back to top // torna in cima" href="#top"> <span class=backToTopBtn-icon >∧</span> </a> <div class=franklin-content > <h2 id=strategia_ottimale_per_appuntamenti ><a href="#strategia_ottimale_per_appuntamenti" class=header-anchor >Strategia ottimale per appuntamenti</a></h2> <p>Vediamo ora una delle domande più cruciali nella vita sentimentale: <em>quante persone dovremmo frequentare prima di scegliere quella con cui stabilizzarci per qualcosa di più serio?</em></p> <p>È una domanda difficile, ma la matematica può aiutarci trovando una risposta: il <span style="filter: blur(8px); cursor: pointer; transition: filter 0.5s ease; background-color: #ffffff; outline: none;" onclick="this.style.filter='none'; this.style.cursor='default';">37%</span> . In pratica, di tutte le persone con cui possibilmente potremmo fissare un appuntamento, dovremmo conoscere ma scartare a priori le prime <span style="filter: blur(8px); cursor: pointer; transition: filter 0.5s ease; background-color: #ffffff; outline: none;" onclick="this.style.filter='none'; this.style.cursor='default';">37%</span> , dalla nostra &quot;scelta definitiva&quot;, e poi continuare gli appuntamenti fino ad accasarci con la prima persona che incontriamo e che valutiamo migliore di quelle viste prima &#40;o altrimenti aspettare l&#39;ultima persona, se questa scelta migliore non si presenta&#41;.</p> <p>Perché è una buona strategia?<sup id="fnref:1"><a href="#fndef:1" class=fnref >[1]</a></sup> Ovviamente non conviene scegliere la prima persona che incontriamo, per quanto possa sembrare promettente, perché qualcuno di meglio potrebbe apparire più tardi. D&#39;altra parte, non vogliamo nemmeno essere troppo esigenti, perché una volta che rifiutiamo qualcuno molto probabilmente non vorrà tornare da noi qualora ci ripensassimo. Ma quindi perché il <span style="filter: blur(8px); cursor: pointer; transition: filter 0.5s ease; background-color: #ffffff; outline: none;" onclick="this.style.filter='none'; this.style.cursor='default';">37%</span> ? L&#39;idea è solo di massimizzare le probabilità.</p> <img src="/assets/img/date4_cut.jpeg" alt=""> <p>Più precisamente: supponiamo di volerci &quot;sistemare&quot; entro un certo periodo. Definiamo \(N\) come il numero di partner che stimiamo di poter incontrare in questo periodo, e che quindi costituiscono i nostri candidati moglie/marito. Supponiamo di poter assegnare a ogni partner un punteggio da 1 a \(N\) per definire il nostro grado di compatibilità<sup id="fnref:2"><a href="#fndef:2" class=fnref >[2]</a></sup>. In questo gruppo ci sarà anche la nostra anima gemella, <em>quella giusta</em>, che chiamiamo \(X\) e che avrà quindi il punteggio massimo. Vorremo ora definire una strategia che massimizzi la probabilità di trovarla.</p> <p>Dato \(N\), quindi, vorremo capire come bilanciare il rischio tra &quot;scegliere un partner iniziale magari non perfetto&quot; e &quot;scartare partner che invece col senno di poi valeva la pena scegliere&quot;, e quindi vorremo definire \(M\) come la soglia di persone che delimita i gruppi <em>scarto a priori</em> vs <em>ci penso seriamente</em>. La nostra strategia, come sopra anticipato, consiste allora nell&#39;incontrare – ma scartare – le prime \(M\) persone, in modo solo da farci un&#39;idea della qualità delle proposte, e poi scegliere, tra i partner degli appuntamenti successivi, la prima che è migliore della persona migliore incontrata nel gruppo scartato; o altrimenti l&#39;ultima se non si presenta nessuna con questo requisito.</p> <blockquote> <p>Problema ispirato da <a href="https://plus.maths.org/content/mathematical-dating">https://plus.maths.org/content/mathematical-dating</a>.</p> </blockquote> <p><table class=fndef  id="fndef:1"> <tr> <td class=fndef-backref ><a href="#fnref:1">[1]</a> <td class=fndef-content >&quot;buona strategia&quot; dal punto di vista del risolvere il problema in modo matematico, ma poi naturalmente nelle relazioni umane non ha troppo senso ragionare solo in questi termini razionali. Se per esempio il primo appuntamento ci colpisce non è che dobbiamo rifiutare quel partner solo perché la matematica dice di farlo. </table> <table class=fndef  id="fndef:2"> <tr> <td class=fndef-backref ><a href="#fnref:2">[2]</a> <td class=fndef-content >l&#39;assegnazione corretta di questi punteggi esiste ma è a noi ignota, ovviamente, perché il punteggio da assegnare a ogni partner lo sapremo esattamente solo una volta fatti tutti gli appuntamenti. Solo una volta conosciuti tutti potremmo allora dire &quot;lei era la migliore&quot; &#40;punteggio \(N\)&#41;, &quot;quest&#39;altra la seconda migliore&quot; &#40;punteggio \(N-1\)&#41;, ecc. Durante il percorso invece possiamo solo fare confronti del tipo &quot;lei era peggiore di quella vista prima&quot;, &quot;quest&#39;altra era migliore di tutte le altre viste finora&quot;, ecc, ovvero confronti relativi. </table> </p> <h2 id=soluzione ><a href="#soluzione" class=header-anchor >Soluzione</a></h2> <p>Stavolta ho impostato l&#39;articoletto come una vera storiella di divulgazione, non come domanda e risposta. Nel farlo ho cercato quindi di mantenere un discorso secondo me simpatico, ordinato, e chiaro, ma senza comunque spoilerare la soluzione. Per chi è solo interessato al risultato, basta quindi cliccare sulle parti sfocate di sopra, altrimenti continuate qui per la soluzione completa, con tutti i calcoli per arrivare al risultato finale.</p> <hr /> <p>Calcolando l&#39;\(M\) ottimale, in funzione di \(N\), risulterà che </p> \[ M = \frac{N}{e} \approx 0.37 \cdot N \] <p>ovvero \(M\) deve essere circa il <span style="filter: blur(8px); cursor: pointer; transition: filter 0.5s ease; background-color: #ffffff; outline: none;" onclick="this.style.filter='none'; this.style.cursor='default';">37%</span> di \(N\).</p> <p><pre><code class=language-julia >using Random
Random.seed&#33;&#40;42&#41;

function M_strategy_score&#40;partners,M,verbose&#61;0&#41;
    N &#61; length&#40;partners&#41;
    @assert N &gt;&#61; M&#43;1
    partners_not_discarded &#61; partners&#91;M&#43;1:end&#93;
    best_score_of_discarded &#61; maximum&#40;partners&#91;1:M&#93;&#41; # il punteggio migliore tra le persone del gruppo iniziale
    
    available_scores &#61; max.&#40;partners_not_discarded .- best_score_of_discarded,0&#41;
    
    out &#61; findfirst&#40;u -&gt; u&#33;&#61;0, available_scores&#41;
    chosen_index &#61; isnothing&#40;out&#41; ? lastindex&#40;partners_not_discarded&#41; : out
    score_out &#61; partners_not_discarded&#91;chosen_index&#93;
    found_soul_mate &#61; score_out&#61;&#61;N # se score&#61;&#61;N abbiamo trovato la nostra anima gemella

    if verbose&#61;&#61;1
        println&#40;&quot;We discarded &#36;M partners &#40;from &#36;N partners&#41;.&quot;&#41;
        println&#40;&quot;The best score there was &#36;best_score_of_discarded.&quot;&#41;
        printstyled&#40;partners&#91;1:M&#93;; color&#61;:yellow&#41;
        printstyled&#40;partners&#91;M&#43;1:end&#93;; color&#61;:green&#41;
        println&#40;&quot;\nIn the end we selected partner #&#36;&#40;chosen_index&#43;M&#41; of score &#36;score_out.&quot;&#41;
        println&#40;found_soul_mate&#61;&#61;1 ? &quot;We&quot; : &quot;We didnt have&quot;, &quot; found our soulmate.\n&quot;&#41;
    end
    
    return found_soul_mate # return 0 or 1
end 

M &#61; 5
partners &#61; shuffle&#40;1:20&#41;
M_strategy_score&#40;partners,M,1&#41;

# optimal strategy should be discarding M&#61;N/ℯ partners
N &#61; 100
simulations &#61; 30_000
values_tested &#61; &#91;&quot;2&quot;,&quot;ℯ&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;&#93;
M_values &#61; round.&#40;Int64,&#91;N/2 N/ℯ N/3 N/4 N/5 N/6 N/7&#93;&#41;
scores &#61; zeros&#40;length&#40;M_values&#41;&#41;

for sim in 1:simulations
    local partners &#61; shuffle&#40;1:N&#41;
    for i in 1:length&#40;M_values&#41;
        scores&#91;i&#93; &#43;&#61; M_strategy_score&#40;partners,M_values&#91;i&#93;&#41;
    end
end
scores ./&#61; simulations
println&#40;&quot;Testing on N &#61; &#36;N.&quot;&#41;
for i in 1:length&#40;M_values&#41;
    println&#40;&quot;Using M &#61; &#36;&#40;M_values&#91;i&#93;&#41; &#40;that is N/&#36;&#40;values_tested&#91;i&#93;&#41;&#41; we got score &#61; &#36;&#40;scores&#91;i&#93;&#41;&quot;&#41;
end     
    println&#40;&quot;Where score is the probability of having found our soulmate.&quot;&#41;

using Plots
plot&#40;bar&#40;scores&#41;,xticks&#61;&#40;1:length&#40;values_tested&#41;,&quot;N&quot;.*&quot;/&quot;.*values_tested&#41;&#41;</code></pre> <div id=fdpjsp  style=""></div> <script> graphDiv = document.getElementById("fdpjsp"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/output/date_strategy.json'); </script> <pre><code class="plaintext code-output">We discarded 5 partners (from 20 partners).
The best score there was 19.
[19, 10, 2, 1, 6][12, 9, 8, 11, 15, 7, 4, 17, 20, 16, 5, 3, 14, 18, 13]
In the end we selected partner #14 of score 20.
We found our soulmate.

Testing on N = 100.
Using M = 50 (that is N/2) we got score = 0.3525
Using M = 37 (that is N/ℯ) we got score = 0.37606666666666666
Using M = 33 (that is N/3) we got score = 0.37456666666666666
Using M = 25 (that is N/4) we got score = 0.3532666666666667
Using M = 20 (that is N/5) we got score = 0.3268333333333333
Using M = 17 (that is N/6) we got score = 0.3065333333333333
Using M = 14 (that is N/7) we got score = 0.28196666666666664
Where score is the probability of having found our soulmate.
</code></pre></p> <iframe src="https://www.desmos.com/calculator/7xjua3xllw" width="100%" style="aspect-ratio:16/9;"></iframe> <script src="https://giscus.app/client.js" data-repo="federicomor/federicomor.github.io" data-repo-id=R_kgDOLBdBYA  data-category=Announcements  data-category-id=DIC_kwDOLBdBYM4Clm0M  data-mapping=url  data-strict=0  data-reactions-enabled=1  data-emit-metadata=0  data-input-position=bottom  data-theme=preferred_color_scheme  data-lang=it  // data-loading=lazy  crossorigin=anonymous  async> </script> <div class=page-foot > Last modified: August 17, 2025. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the lovely <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/libs/katex/katex.min.js"></script> <script src="/libs/katex/contrib/auto-render.min.js"></script> <script>renderMathInElement(document.body)</script> <!-- <script> MathJax = { tex: { inlineMath: [['\\(', '\\)']], tags: 'all' }, svg: {fontCache: 'global'} }; </script> <script id=MathJax-script  async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script> --> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>