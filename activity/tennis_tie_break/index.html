<!doctype html> <html lang=en > <a id=top ></a> <link rel=icon  href="/assets/favicon.png"> <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { response = await fetch(url); fig = await response.json(); Plotly.newPlot(div, fig); }; </script> <link rel=stylesheet  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/poole_hyde.css"> <link rel=icon  href="/assets/favicon.png"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <title>Tennis tie-break probability</title> <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { console.log("url: ",url); console.log("div: ",div); response = await fetch(url); fig = await response.json(); if (typeof fig.config === 'undefined') { fig["config"]={} } delete fig.layout.width delete fig.layout.height fig["layout"]["autosize"] = true fig["config"]["autosizable"] = true fig["config"]["responsive"] = true fig.config["scrollZoom"] = false delete fig.config.staticPlot delete fig.config.displayModeBar delete fig.config.doubleClick delete fig.config.showTips Plotly.newPlot(div, fig); }; </script> --> <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <script> const PlotlyJS_json = async (div, url) => { response = await fetch(url); fig = await response.json(); Plotly.newPlot(div, fig); }; </script> <!-- <a class=backToTopBtn  title="back to top // torna in cima" href="#top"> <span class=backToTopBtn-icon >^</span> </a> --> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <!-- <h1><a href="/">Hyde</a></h1> <p class=lead >A two-column theme.</p> --> <h1><a href="/">Eccoci.<img style="display: block; margin: 0 auto; margin-bottom: 20px"; width=170 ; src="/assets/main img.jpg" alt="main img"/></a></h1> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/">Home</a> <a class="sidebar-nav-item " href="/activity/">Attività</a> <a class="sidebar-nav-item " href="/tesi/">Tesi</a> <a class="sidebar-nav-item " href="/uni/">Uni</a> </nav> <a href="https://www.youtube.com/@fede_plus" target=_blank rel=noopener> <i class="fab fa-youtube big-icon"></i></a> <a href="https://www.linkedin.com/in/federico-angelo-mor/" target=_blank rel=noopener> <i class="fab fa-linkedin big-icon"></i></a> <a href="https://github.com/federicomor" target=_blank rel=noopener> <i class="fab fa-github big-icon"></i></a> </div> </div> <div class="content container"> <a class=backToTopBtn  title="back to top // torna in cima" href="#top"> <span class=backToTopBtn-icon >∧</span> </a> <div class=franklin-content > <h3 id=tennis_tie-break_probability ><a href="#tennis_tie-break_probability" class=header-anchor >Tennis tie-break probability</a></h3> <p></p> <iframe width="80%" style="aspect-ratio:16/9; margin: auto;" src="https://www.youtube.com/embed/ra9LTkehYk4?rel=0"> </iframe> <p></p> <p>Siamo in una partita di tennis... i due giocatori A e B sono arrivati 6-6 e quindi questo set decisivo dovrà decidersi con un tie-break... durante la partita, da bravi &#40;ingegneri&#41; matematici, siamo riusciti a stimare due parametri <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> e <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> che descrivono le probabilità, per il giocatore A, di vincere un punto quando lui è al servizio o quando B è al servizio, rispettivamente... ma eccoci, il giocatore A si sta apprestando a iniziare il tie-break&#33; sarà lui infatti a iniziare a servire per primo... </p> <p>Dato questo contesto e questi dati, qual è la probabilità che il giocatore A vinca il tie-break?</p> <h3 id=soluzione ><a href="#soluzione" class=header-anchor >Soluzione</a></h3> <p>Da raccontare a parole è molto lunga, quindi vi suggerisco caldamente il video molto dettagliato. L&#39;idea è comunque è intanto di decomporre l&#39;evento vittoria nei possibili casi in cui può manifestarsi, ovvero</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>P</mi><mo stretchy=false >(</mo><mtext>vincere</mtext><mo stretchy=false >)</mo><mo>=</mo><mi>P</mi><mo stretchy=false >(</mo><mtext>vincere 7-0</mtext><mo stretchy=false >)</mo><mo>+</mo><mi>P</mi><mo stretchy=false >(</mo><mtext>vincere 7-1</mtext><mo stretchy=false >)</mo><mo>+</mo><mo>…</mo><mo>+</mo><mi>P</mi><mo stretchy=false >(</mo><mtext>vincere 7-5</mtext><mo stretchy=false >)</mo><mo>+</mo><mi>P</mi><mo stretchy=false >(</mo><mtext>arrivare 6-6</mtext><mo stretchy=false >)</mo><mi>P</mi><mo stretchy=false >(</mo><mtext>vincere da 6-6</mtext><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> P(\text{vincere}) = P(\text{vincere 7-0}) + P(\text{vincere 7-1}) + \ldots + P(\text{vincere 7-5}) + P(\text{arrivare 6-6})P(\text{vincere da 6-6}) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord text"><span class=mord >vincere</span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord text"><span class=mord >vincere 7-0</span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord text"><span class=mord >vincere 7-1</span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class=minner >…</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord text"><span class=mord >vincere 7-5</span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord text"><span class=mord >arrivare 6-6</span></span><span class=mclose >)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class=mopen >(</span><span class="mord text"><span class=mord >vincere da 6-6</span></span><span class=mclose >)</span></span></span></span></span> <p>e poi di studiare ogni termine lavorando con la distribuzione Binomiale. Infatti, una variabile aleatoria <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> ha legge Binomiale di parametro <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> &#40;e scriviamo <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>∼</mo><mtext>Bin</mtext><mo stretchy=false >(</mo><mi>n</mi><mo separator=true >,</mo><mi>p</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">X\sim\text{Bin}(n,p)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >∼</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >Bin</span></span><span class=mopen >(</span><span class="mord mathnormal">n</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class=mclose >)</span></span></span></span>&#41; quando <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> conta il numero di successi che otteniamo quando replichiamo per <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> volte un esperimento che può avere esito di successo con probabilità pari a <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>. Quindi l&#39;idea è di trattare <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> come il numero di volte in cui un giocatore è al servizio o in risposta, mentre <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> come la probabilità dell&#39;evento di &quot;successo&quot;, ovvero vincere il punto, ovvero i parametri <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> o <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>.</p> <p><pre><code class="julia hljs"><span class=hljs-keyword >using</span> Plots
<span class=hljs-keyword >using</span> Distributions 

<span class=hljs-comment ># 1  2  3  4  5  6  7  8  9  10 11 12</span>
<span class=hljs-comment ># A  B  B  A  A  B  B  A  A  B  B  A</span>
<span class=hljs-keyword >function</span> ptiebreak(a::<span class=hljs-built_in >Float64</span>,b::<span class=hljs-built_in >Float64</span>)
    p70 = (pdf(Binomial(<span class=hljs-number >3</span>,a),<span class=hljs-number >3</span>) * pdf(Binomial(<span class=hljs-number >3</span>,b),<span class=hljs-number >3</span>))*b 
    <span class=hljs-comment ># batte B al 7mo turno</span>
    p71 = sum([pdf(Binomial(<span class=hljs-number >3</span>,a),i) * pdf(Binomial(<span class=hljs-number >4</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >3</span>])*a 
    <span class=hljs-comment ># batte A all&#x27;8vo turno</span>
    p72 = sum([pdf(Binomial(<span class=hljs-number >4</span>,a),i) * pdf(Binomial(<span class=hljs-number >4</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >4</span>])*a 
    <span class=hljs-comment ># batte A al 9no turno</span>
    p73 = sum([pdf(Binomial(<span class=hljs-number >5</span>,a),i) * pdf(Binomial(<span class=hljs-number >4</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >5</span>])*b 
    <span class=hljs-comment ># batte B al 10mo turno </span>
    p74 = sum([pdf(Binomial(<span class=hljs-number >5</span>,a),i) * pdf(Binomial(<span class=hljs-number >5</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:<span class=hljs-number >5</span>])*b 
    <span class=hljs-comment ># batte B al 11mo turno</span>
    p75 = sum([pdf(Binomial(<span class=hljs-number >5</span>,a),i) * pdf(Binomial(<span class=hljs-number >6</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >0</span>:<span class=hljs-number >5</span>])*a
    <span class=hljs-comment ># batte A al 12mo turno</span>
    p66 = sum([pdf(Binomial(<span class=hljs-number >6</span>,a),i) * pdf(Binomial(<span class=hljs-number >6</span>,b),<span class=hljs-number >6</span>-i) <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >0</span>:<span class=hljs-number >6</span>])
    pda66 = a*b/(<span class=hljs-number >1</span>-a-b+<span class=hljs-number >2</span>*a*b) 
    
    ptot = p70+p71+p72+p73+p74+p75+p66*pda66
    <span class=hljs-meta >@assert</span> <span class=hljs-number >0</span>&lt;=ptot&lt;=<span class=hljs-number >1</span>
    <span class=hljs-keyword >return</span> ptot
<span class=hljs-keyword >end</span>

aa = range(<span class=hljs-number >0.01</span>,<span class=hljs-number >0.99</span>, step=<span class=hljs-number >0.01</span>)
bb = range(<span class=hljs-number >0.01</span>,<span class=hljs-number >0.99</span>, step=<span class=hljs-number >0.01</span>)
p = surface(aa, bb, ptiebreak,camera=(<span class=hljs-number >25</span>,<span class=hljs-number >20</span>))
xlabel!(<span class=hljs-string >&quot;a values&quot;</span>)
ylabel!(<span class=hljs-string >&quot;b values&quot;</span>)

contourf(aa, bb, ptiebreak)
xlabel!(<span class=hljs-string >&quot;a values&quot;</span>)
ylabel!(<span class=hljs-string >&quot;b values&quot;</span>)</code></pre> Il grafico che segue mostra la probabilità di vittoria per il giocatore A, come valori sull&#39;asse <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span>, in funzione dei parametri <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> e <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> &#40;posti sugli assi <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> e <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>&#41;. <div id=fdpwmw  style=""></div> <script> graphDiv = document.getElementById("fdpwmw"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/output/tennis_surface.json'); </script> <div id=fdpjbh  style=""></div> <script> graphDiv = document.getElementById("fdpjbh"); plotlyPromise = PlotlyJS_json(graphDiv, '/assets/scripts/output/tennis_contourf.json'); </script> </p> <script src="https://giscus.app/client.js" data-repo="federicomor/federicomor.github.io" data-repo-id=R_kgDOLBdBYA  data-category=Announcements  data-category-id=DIC_kwDOLBdBYM4Clm0M  data-mapping=url  data-strict=0  data-reactions-enabled=1  data-emit-metadata=0  data-input-position=bottom  data-theme=preferred_color_scheme  data-lang=it  data-loading=lazy  crossorigin=anonymous  async> </script> <div class=page-foot > Last modified: December 30, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the lovely <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>